var tome0815975E=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function s(t){t.forEach(e)}function o(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(e,n,s){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}(n,s))}function r(t,e,n){return t.set(n),e}function c(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function f(t){t.parentNode.removeChild(t)}function l(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function m(t){return document.createTextNode(t)}function d(){return m(" ")}function g(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function h(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t){return""===t?null:+t}function k(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function v(t,e){t.value=null==e?"":e}function b(t,e){for(let n=0;n<t.options.length;n+=1){const s=t.options[n];if(s.__value===e)return void(s.selected=!0)}t.selectedIndex=-1}function $(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function x(t,e,n){t.classList[n?"add":"remove"](e)}let T;function w(t){T=t}const R=[],C=[],_=[],B=[],L=Promise.resolve();let q=!1;function F(t){_.push(t)}function W(t){B.push(t)}const A=new Set;let E=0;function S(){const t=T;do{for(;E<R.length;){const t=R[E];E++,w(t),M(t.$$)}for(w(null),R.length=0,E=0;C.length;)C.pop()();for(let t=0;t<_.length;t+=1){const e=_[t];A.has(e)||(A.add(e),e())}_.length=0}while(R.length);for(;B.length;)B.pop()();q=!1,A.clear(),w(t)}function M(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(F)}}const j=new Set;function I(t,e){t&&t.i&&(j.delete(t),t.i(e))}function D(t,e,n,s){if(t&&t.o){if(j.has(t))return;j.add(t),undefined.c.push((()=>{j.delete(t),s&&(n&&t.d(1),s())})),t.o(e)}else s&&s()}function H(t,e,n){const s=t.$$.props[e];void 0!==s&&(t.$$.bound[s]=n,n(t.$$.ctx[s]))}function O(t){t&&t.c()}function z(t,n,a,i){const{fragment:r,on_mount:c,on_destroy:u,after_update:f}=t.$$;r&&r.m(n,a),i||F((()=>{const n=c.map(e).filter(o);u?u.push(...n):s(n),t.$$.on_mount=[]})),f.forEach(F)}function P(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function N(t,e){-1===t.$$.dirty[0]&&(R.push(t),q||(q=!0,L.then(S)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function K(e,o,a,i,r,c,u,l=[-1]){const p=T;w(e);const m=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:r,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(p?p.$$.context:[])),callbacks:n(),dirty:l,skip_bound:!1,root:o.target||p.$$.root};u&&u(m.root);let d=!1;if(m.ctx=a?a(e,o.props||{},((t,n,...s)=>{const o=s.length?s[0]:n;return m.ctx&&r(m.ctx[t],m.ctx[t]=o)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](o),d&&N(e,t)),n})):[],m.update(),d=!0,s(m.before_update),m.fragment=!!i&&i(m.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);m.fragment&&m.fragment.l(t),t.forEach(f)}else m.fragment&&m.fragment.c();o.intro&&I(e.$$.fragment),z(e,o.target,o.anchor,o.customElement),S()}w(p)}class J{$destroy(){P(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Z(e){let n,s,o,a;return{c(){n=p("button"),s=m(e[2]),h(n,"class","svelte-19loasr"),x(n,"sorted",e[0].field===e[1]),x(n,"reversed",e[0].dir<0)},m(t,i){u(t,n,i),c(n,s),o||(a=g(n,"click",e[3]),o=!0)},p(t,[e]){4&e&&k(s,t[2]),3&e&&x(n,"sorted",t[0].field===t[1]),1&e&&x(n,"reversed",t[0].dir<0)},i:t,o:t,d(t){t&&f(n),o=!1,a()}}}function G(t,e,n){let{method:s,field:o,text:a}=e;return t.$$set=t=>{"method"in t&&n(0,s=t.method),"field"in t&&n(1,o=t.field),"text"in t&&n(2,a=t.text)},[s,o,a,function(){s.field!==o?(n(0,s.field=o,s),n(0,s.dir=1,s)):n(0,s.dir*=-1,s)}]}class Q extends J{constructor(t){super(),K(this,t,G,Z,a,{method:0,field:1,text:2})}}const U=location.pathname.match(/([^/.]*)(\.html)?$/),V=U[1]&&"index"!==U[1]?U[1]:"sword";function X(e){let n,s,o,a,i,r,l,m;return{c(){n=p("ul"),s=p("li"),s.innerHTML='<a href="." class="svelte-116mxxw">劍</a>',o=d(),a=p("li"),a.innerHTML='<a href="bow.html" class="svelte-116mxxw">弓</a>',i=d(),r=p("li"),r.innerHTML='<a href="wand.html" class="svelte-116mxxw">杖</a>',l=d(),m=p("li"),m.innerHTML='<a href="tome.html" class="svelte-116mxxw">書</a>',h(s,"class","svelte-116mxxw"),x(s,"active","sword"===V),h(a,"class","svelte-116mxxw"),x(a,"active","bow"===V),h(r,"class","svelte-116mxxw"),x(r,"active","wand"===V),h(m,"class","svelte-116mxxw"),x(m,"active","tome"===V),h(n,"class","svelte-116mxxw")},m(t,e){u(t,n,e),c(n,s),c(n,o),c(n,a),c(n,i),c(n,r),c(n,l),c(n,m)},p:t,i:t,o:t,d(t){t&&f(n)}}}class Y extends J{constructor(t){super(),K(this,t,null,X,a,{})}}const tt=[];const et="zoldout-damage-calculator",nt=new Map;function st(e,n){if(nt.has(e))return nt.get(e);const s=function(e,n=t){let s;const o=new Set;function i(t){if(a(e,t)&&(e=t,s)){const t=!tt.length;for(const t of o)t[1](),tt.push(t,e);if(t){for(let t=0;t<tt.length;t+=2)tt[t][0](tt[t+1]);tt.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(a,r=t){const c=[a,r];return o.add(c),1===o.size&&(s=n(i)||t),a(e),()=>{o.delete(c),0===o.size&&(s(),s=null)}}}}(function(t){try{return JSON.parse(t)}catch{}}(localStorage.getItem(`${et}/${e}`))??n);return s.subscribe((t=>localStorage.setItem(`${et}/${e}`,JSON.stringify(t)))),nt.set(e,s),s}var ot=[{name:"攻擊力增加（維羅尼卡）",type:"sword",beforeAll:t=>{t.buff.push({bonus:20,times:99})}},{name:"攻擊力增加（夏洛蒂）",type:"sword",beforeAll:t=>{t.buff.push({bonus:45,times:99})}},{name:"攻擊後反擊四次（奧布利）",type:"sword",afterWeapon:t=>{if(!t.oblyPassive&&t.hit){const e=t.clone({oblyPassive:!0});e.processWeapon({name:"反擊",cost:0,atk:0,modLv:1.45,hit:4}),t.damage+=e.damage}}},{name:"傷害後攻擊增加（艾莉諾拉）",type:"bow",afterHit:t=>{t.buff.push({bonus:5,times:99})}},{name:"第2+次傷害攻擊機率增加（艾莉諾拉）",type:"bow",afterHit:t=>{1===t.totalHit&&t.buff.push({bonus:21,times:99})}},{name:"使用武器後中毒（格蕾絲）",type:"bow",afterWeapon:(t,e)=>{t.hit&&!e.name.includes("奧義")&&t.poison.push({atk:300,turn:2,bonus:0})}},{name:"製造虛影（菲恩）",type:"bow",beforeAll:t=>{t.moves=0,t.isShadow=!1},afterWeapon:(t,e)=>{if("移動"===e.name)return void t.moves++;if(t.isShadow)return;let{atk:n,buff:s,cost:o,damage:a}=t;t.isShadow=!0,t.atk=1047,t.buff=[];for(let n=0;n<t.moves;n++)t.processWeapon(e),a+=t.damage;t.atk=n,t.buff=s,t.cost=o,t.isShadow=!1,t.damage=a}},{name:"傷害後點燃或額外傷害（艾娜）",type:"bow",afterHit:t=>{t.fire?t.damage+=360*t.getFireResist():(t.fire=!0,t.damage+=540*t.getFireResist())}},{name:"凍結時增加水傷（奧蘿菈）",type:"buff",beforeWeapon:t=>{let e=t.targetBuff.find((t=>"arora"===t.id));e||(e={id:"arora",times:999},t.targetBuff.push(e)),e.waterInjuryBonus=t.freeze?30:0}},{name:"使用火武器後加速（歌莉雅）",type:"wand",afterWeapon:(t,e)=>{e.fire?.time&&(t.cost-=2)}},{name:"著火時增傷、減抗（歌莉雅）",type:"buff",beforeHit:t=>{let e=t.targetBuff.find((t=>"goriya1"===t.id));e||(e={id:"goriya1",times:99},t.targetBuff.push(e)),e.injuryBonus=t.fire?10:0,e.fireResist=t.fire?-10:0}},{name:"大範圍武器加速、攻擊增加（聖樹梅米）",type:"wand",beforeWeapon:(t,e)=>{"large"===e.range&&(t.cost-=1,t.hit&&t.buff.push({bonus:10,times:1}))}},{name:"打星（納蒂雅）",type:"buff",beforeWeapon:(t,e)=>{e.atkType&&"physic"!==e.atkType||(t.oldTarget=t.getTarget(),t.setTarget({def:0,mdef:0,waterResist:100,fireResist:100,poisonResist:100,lightningResist:100,targetBuff:[]}))},afterWeapon:(t,e)=>{if(e.atkType&&"physic"!==e.atkType)return;const n=t.clone({buff:t.buff.map((t=>({...t}))).filter((t=>t.finalBonus)),targetBuff:t.oldTarget.targetBuff});n.setTarget(t.oldTarget),n.processWeapon({atk:1.2*n.damage,atkType:"magic"}),t.damage=n.damage,t.setTarget(t.oldTarget)}},{name:"物理傷害增加一次（納蒂雅）",type:"buff",beforeAll:t=>{t.buff.push({physicBonus:15,times:1})}},{name:"額外傷害（尤里+泳裝伊蓮）",type:"wand",afterWeapon:(t,e)=>{e.water&&(t.damage+=2*(900-t.getDef({atkType:"magic"})))}},{name:"魔攻增加（西比拉）",type:"wand",beforeWeapon:(t,e)=>{e.casting>=6&&t.hit&&t.buff.push({bonus:25,times:1})}},{name:"水武器智力增加（泳裝伊蓮）",type:"buff",beforeWeapon:(t,e)=>{(e.water||"water"===e.atkType)&&t.buff.push({int:300,times:1,id:"swimElinInt"})},afterWeapon:t=>{const e=t.buff.findIndex((t=>"swimElinInt"===t.id));e>=0&&t.buff.splice(e,1)}},{name:"水傷增加（泳裝伊蓮奧義）",type:"buff",beforeAll:t=>{t.targetBuff.push({id:"swimElin",waterInjuryBonus:40,times:99})}},{name:"生命回復（塔尼亞）",type:"tome",afterWeapon:(t,e)=>{t.hit&&"heal"!==e.atkType||(t.damage+=360)}},{name:"加速（塔尼亞）",type:"tome",afterWeapon:(t,e)=>{(!t.hit&&e.buff||"heal"===e.atkType)&&t.cost--}}];const at={F:.85,E:1.1,D:1.35,C:1.6,B:1.85,A:2.1,S:2.35,SS:2.6,SSS:2.85,Ex:3.1};for(const t in at)at[`${t}0`]=at[t]-.1;class it{constructor({hp:t,atk:e,int:n,selfDef:s=1e3,selfMdef:o=500,def:a,mdef:i,fireResist:r,waterResist:c,poisonResist:u,lightningResist:f,fire:l=!1,freeze:p=!1,poison:m=!1,poisonTurns:d,stance:g=0,maxTargets:h=1,passive:y,buff:k=[]}){this.atk=e,this.int=n,this.selfDef=s,this.selfMdef=o,this.hp=t,this.def=a,this.mdef=i,this.fireResist=r,this.waterResist=c,this.poisonResist=u,this.lightningResist=f,this.poisonTurns=d,this.maxTargets=h,this.passive=y,this.damage=0,this.hit=0,this.totalHit=0,this.stance=g,this.buff=k.slice(),this.targetBuff=[],this.targets=0,this.poison=m?[{atk:0,turn:99}]:[],this.lightning={},this.fire=l,this.freeze=p}clone(t={}){const e=new it({});return Object.assign(e,this,t),e}getBuffedStat(t,e="stack"){return"stack"===e?(this[t]||0)+this.buff.reduce(((e,n)=>e+(n[t]||0)),0):(this[t]||1)*this.buff.reduce(((e,n)=>e*(1+(n[t]||0)/100)),1)}getDef(t){return ct(this,t)}_getResist(t,e,n){return(1-(this[t]?this[t]+this.targetBuff.reduce(((e,n)=>e+(n[t]||0)),0):0)/100)*this.buff.reduce(((t,n)=>t*(1+(n[e]||0)/100)),1)*this.targetBuff.reduce(((t,e)=>t*(1+(e[n]||0)/100)),1)}getFireResist(){return this._getResist("fireResist","fireBonus","fireInjuryBonus")}getWaterResist(){return this._getResist("waterResist","waterBonus","waterInjuryBonus")}getPoisonResist(){return this._getResist("poisonResist","poisonBonus","poisonInjuryBonus")}getLightningResist(){return this._getResist("lightningResist","lightningBonus","lightningInjuryBonus")}getInjuryBonus(){return(this.targetBuff.reduce(((t,e)=>t+(e.injuryBonus||0)),0)+100)/100}getWaterAtk(t){return ut(this,t)}getFireAtk(t){return ut(this,t)}getLightningAtk(t){return ut(this,t)}getPoisonAtk(t){return ut(this,t)}processWeapon(t){return pt(this,t)}getFinalBonus(){return this.buff.reduce(((t,e)=>t*(1+(e.finalBonus||0)/100)),1)}getTarget(){return{hp:this.hp,mdef:this.mdef,def:this.def,waterResist:this.waterResist,fireResist:this.fireResist,poisonResist:this.poisonResist,lightningResist:this.lightningResist,targetBuff:this.targetBuff}}setTarget(t){Object.assign(this,t)}}function rt({weapons:t,passiveIds:e,...n}){const s=ot.filter(((t,n)=>e.includes(n))),o=[],a=new it({...n,passive:s});lt(a,null,"beforeAll");for(const e of t){const t=dt(a,e);o.push(t)}const i=o.reduce(((t,e)=>t+e.damage),0),r=o.reduce(((t,e)=>t+e.cost),0);return{stages:o,summary:{damage:i,cost:r,executeCost:Math.ceil(a.hp/i)*r,cp:i/r}}}function ct({def:t,mdef:e,targetBuff:n},{atkType:s}){return"heal"===s||"water"===s||"fire"===s||"poison"===s||"lightning"===s?0:"magic"===s?Math.max(e+n.reduce(((t,e)=>t+(e.mdef||0)),0),0):Math.max(t+n.reduce(((t,e)=>t+(e.def||0)),0),0)}function ut({atk:t,int:e,buff:n},{modType:s,modLv:o,atk:a=0,bonus:i=0}){const r="int"===s?e+n.reduce(((t,e)=>t+(e.int||0)),0):t+n.reduce(((t,e)=>t+(e.atk||0)),0);return(a+(o?r*function(t){if("number"==typeof t)return t;if(at[t])return at[t];throw new Error(`unknown modLv: ${t}`)}(o):0))*(i+100)/100}function ft(t){let e=0;for(const n of t.poison)n.atk&&(e+=n.atk*Math.min(n.turn,t.poisonTurns)/n.turn*t.getPoisonResist());return e*t.getFinalBonus()}function lt(t,e,n){t.passive.forEach((s=>s[n]?.(t,e))),e?.[n]?.(t,e)}function pt(t,e){t.cost=e.casting||e.cost,t.hit=e.hit||(e.atk||e.modLv?1:0),t.damage=0,t.targets=Math.min(t.maxTargets,e.targets||1),lt(t,e,"beforeWeapon");const n=ct(t,e),s=function(t,{atkType:e}){return"fire"===e?t.getFireResist():"water"===e?t.getWaterResist():"poison"===e?t.getPoisonResist():"lightning"===e?t.getLightningResist():"magic"===e?t._getResist(null,"magicBonus","magicInjuryBonus"):t._getResist(null,"physicBonus","physicInjuryBonus")}(t,e);for(let o=0;o<t.hit;o++){lt(t,e,"beforeHit"),t.currentHit=o+1,t.totalHit++;let a=e.getAtk?e.getAtk(t):ut(t,e);a*=t.buff.reduce(((t,e)=>t*(e.bonus?(e.bonus+100)/100:1)),1),e.stance?.use===t.stance&&(a*=((e.stance.bonus||0)+100)/100),a*=t.getFinalBonus(),t.damage+=Math.max(a-n,1)*s*t.getInjuryBonus()*t.targets,t.lightning?.atk&&(t.damage+=t.lightning.atk*(100-t.lightningResist)/100*t.targets),lt(t,e,"afterHit")}if(t.hit&&(t.buff=t.buff.map((t=>({...t,times:t.times-1}))).filter((t=>t.times>0)),t.targetBuff=t.targetBuff.map((t=>({...t,times:t.times-1}))).filter((t=>t.times>0))),e.trap){const n=t.clone({passive:[],buff:t.buff.filter((t=>t.finalBonus)).map((t=>({...t})))});n.processWeapon(e.trap),t.damage+=n.damage}if(!e.fire||e.fire.cond&&!e.fire.cond(t)||(t.damage+=t.getFireAtk(e.fire)*t.getFireResist()*t.targets*t.getFinalBonus(),e.fire.time&&(t.fire=!0)),!e.water||e.water.cond&&!e.water.cond(t)||(t.damage+=t.getWaterAtk(e.water)*t.getWaterResist()*t.targets*t.getFinalBonus(),e.water.time&&(t.freeze=!0)),e.lightning&&(!e.lightning.cond||e.lightning.cond(t))){const n=t.getLightningAtk(e.lightning);t.damage+=n*t.getLightningResist()*t.targets*t.getFinalBonus(),(!t.lightning.atk||e.lightning.time>t.lightning.time)&&(t.lightning.atk=n,t.lightning.time=e.lightning.time)}if(e.poison&&(!e.poison.cond||e.poison.cond(t))){for(let n=0;n<t.targets;n++)t.poison.push({atk:t.getPoisonAtk(e.poison),turn:e.poison.turn,bonus:0});e.poison.bonus&&(t.poison=t.poison.map((t=>{const n=(t.bonus+100)*(e.poison.bonus+100)/100-100;return{...t,bonus:Math.min(n,200)}})))}e.buff&&mt(t.buff,e.buff),e.targetBuff&&mt(t.targetBuff,e.targetBuff),e.stance?.use===t.stance&&e.stance.buff&&mt(t.buff,e.stance.buff),null!=e.stance?.gain&&(t.stance=e.stance.gain),lt(t,e,"afterWeapon")}function mt(t,e){const n=new Map(t.map(((t,e)=>[t.id,e])));for(const s of e)s.id&&n.has(s.id)?t[n.get(s.id)]=s:t.push(s)}function dt(t,e){const n=ft(t);return pt(t,e),t.damage+=ft(t)-n,{damage:t.damage,cost:t.cost}}var gt=[{name:"星光帝王蟹",def:999999,mdef:999999,fireResist:-100,waterResist:99,poisonResist:99,lightningResist:-100},{name:"利文",def:197,mdef:355,fireResist:50,waterResist:30,poisonResist:60,lightningResist:70},{name:"腐朽魔像",def:431,mdef:180,fireResist:50,waterResist:80,poisonResist:99,lightningResist:-40},{name:"雪人王",def:319,mdef:319,hp:68886,fireResist:-30,waterResist:0,poisonResist:-42,lightningResist:50},{name:"黃昏雲團",def:189,mdef:304,fireResist:75,waterResist:50,poisonResist:50,lightningResist:75},{name:"火鷹族勇士",def:229,mdef:465,fireResist:100,waterResist:-100,poisonResist:75,lightningResist:40},{name:"坑道地蛛",def:131,mdef:981,fireResist:70,waterResist:90,poisonResist:20,lightningResist:80},{name:"赫黑狼人",def:758,mdef:915,fireResist:70,waterResist:20,poisonResist:50,lightningResist:30}];function ht(t,e,n){const s=t.slice();return s[90]=e[n],s}function yt(t,e,n){const s=t.slice();return s[93]=e[n],s[94]=e,s[95]=n,s}function kt(t,e,n){const s=t.slice();return s[96]=e[n],s}function vt(t,e,n){const s=t.slice();return s[99]=e[n],s[95]=n,s}function bt(t,e,n){const s=t.slice();return s[101]=e[n],s}function $t(e){let n,s,o=e[101].name+"";return{c(){n=p("option"),s=m(o),n.__value=e[101],n.value=n.__value},m(t,e){u(t,n,e),c(n,s)},p:t,d(t){t&&f(n)}}}function xt(t){let e,n=(V===t[99].type||"buff"===t[99].type)&&function(t){let e,n,s,o,a,i,r,l,y=t[99].name+"";return{c(){e=p("label"),n=p("input"),s=d(),o=p("span"),a=m(y),i=d(),h(n,"type","checkbox"),n.__value=t[95],n.value=n.__value,t[77][0].push(n),h(e,"class","cspan svelte-yq4ypk")},m(f,p){u(f,e,p),c(e,n),n.checked=~t[12].indexOf(n.__value),c(e,s),c(e,o),c(o,a),c(e,i),r||(l=g(n,"change",t[76]),r=!0)},p(t,e){4096&e[0]&&(n.checked=~t[12].indexOf(n.__value))},d(s){s&&f(e),t[77][0].splice(t[77][0].indexOf(n),1),r=!1,l()}}}(t);return{c(){n&&n.c(),e=m("")},m(t,s){n&&n.m(t,s),u(t,e,s)},p(t,e){V!==t[99].type&&"buff"!==t[99].type||n.p(t,e)},d(t){n&&n.d(t),t&&f(e)}}}function Tt(t){let e,n,s,o=t[96].name+"";return{c(){e=p("option"),n=m(o),e.__value=s=t[96],e.value=e.__value},m(t,s){u(t,e,s),c(e,n)},p(t,a){1&a[0]&&o!==(o=t[96].name+"")&&k(n,o),1&a[0]&&s!==(s=t[96])&&(e.__value=s,e.value=e.__value)},d(t){t&&f(e)}}}function wt(t){let e,n,o,a,i,r,y,v,$,x,T,w,R,C,_,B,L,q,W,A,E,S=t[2].stages[t[95]]?.cost+"",M=t[2].stages[t[95]]?.damage.toFixed(0)+"",j=((t[2].stages[t[95]]?.damage||0)/t[2].stages[t[95]]?.cost).toFixed(0)+"",I=t[0],D=[];for(let e=0;e<I.length;e+=1)D[e]=Tt(kt(t,I,e));function H(){t[78].call(e,t[94],t[95])}function O(){return t[79](t[95])}function z(){return t[80](t[95])}function P(){return t[81](t[95])}function N(){return t[82](t[95])}return{c(){e=p("select");for(let t=0;t<D.length;t+=1)D[t].c();n=d(),o=p("span"),a=m(S),i=d(),r=p("span"),y=m(M),v=d(),$=p("span"),x=m(j),T=d(),w=p("div"),R=p("button"),R.textContent="↑",C=d(),_=p("button"),_.textContent="↓",B=d(),L=p("button"),L.textContent="⎘",q=d(),W=p("button"),W.textContent="x",h(e,"class","svelte-yq4ypk"),void 0===t[93]&&F(H),h(o,"class","svelte-yq4ypk"),h(r,"class","svelte-yq4ypk"),h($,"class","svelte-yq4ypk"),h(w,"class","operation svelte-yq4ypk")},m(s,f){u(s,e,f);for(let t=0;t<D.length;t+=1)D[t].m(e,null);b(e,t[93]),u(s,n,f),u(s,o,f),c(o,a),u(s,i,f),u(s,r,f),c(r,y),u(s,v,f),u(s,$,f),c($,x),u(s,T,f),u(s,w,f),c(w,R),c(w,C),c(w,_),c(w,B),c(w,L),c(w,q),c(w,W),A||(E=[g(e,"change",H),g(R,"click",O),g(_,"click",z),g(L,"click",P),g(W,"click",N)],A=!0)},p(n,s){if(t=n,1&s[0]){let n;for(I=t[0],n=0;n<I.length;n+=1){const o=kt(t,I,n);D[n]?D[n].p(o,s):(D[n]=Tt(o),D[n].c(),D[n].m(e,null))}for(;n<D.length;n+=1)D[n].d(1);D.length=I.length}3&s[0]&&b(e,t[93]),4&s[0]&&S!==(S=t[2].stages[t[95]]?.cost+"")&&k(a,S),4&s[0]&&M!==(M=t[2].stages[t[95]]?.damage.toFixed(0)+"")&&k(y,M),4&s[0]&&j!==(j=((t[2].stages[t[95]]?.damage||0)/t[2].stages[t[95]]?.cost).toFixed(0)+"")&&k(x,j)},d(t){t&&f(e),l(D,t),t&&f(n),t&&f(o),t&&f(i),t&&f(r),t&&f(v),t&&f($),t&&f(T),t&&f(w),A=!1,s(E)}}}function Rt(t){let e,n,s,o,a,i,r,l,y,v,b,$,x,T,w,R,C,_,B=t[90].name+"",L=t[90].cost+"",q=t[90].damage.toFixed(0)+"",F=t[90].cp.toFixed(0)+"",W=t[90].executeCost+"";function A(){return t[88](t[90])}return{c(){e=p("span"),n=m(B),s=d(),o=p("span"),a=m(L),i=d(),r=p("span"),l=m(q),y=d(),v=p("span"),b=m(F),$=d(),x=p("span"),T=m(W),w=d(),R=p("button"),R.textContent="x",h(e,"class","svelte-yq4ypk"),h(o,"class","svelte-yq4ypk"),h(r,"class","svelte-yq4ypk"),h(v,"class","svelte-yq4ypk"),h(x,"class","svelte-yq4ypk"),h(R,"class","svelte-yq4ypk")},m(t,f){u(t,e,f),c(e,n),u(t,s,f),u(t,o,f),c(o,a),u(t,i,f),u(t,r,f),c(r,l),u(t,y,f),u(t,v,f),c(v,b),u(t,$,f),u(t,x,f),c(x,T),u(t,w,f),u(t,R,f),C||(_=g(R,"click",A),C=!0)},p(e,s){t=e,8&s[0]&&B!==(B=t[90].name+"")&&k(n,B),8&s[0]&&L!==(L=t[90].cost+"")&&k(a,L),8&s[0]&&q!==(q=t[90].damage.toFixed(0)+"")&&k(l,q),8&s[0]&&F!==(F=t[90].cp.toFixed(0)+"")&&k(b,F),8&s[0]&&W!==(W=t[90].executeCost+"")&&k(T,W)},d(t){t&&f(e),t&&f(s),t&&f(o),t&&f(i),t&&f(r),t&&f(y),t&&f(v),t&&f($),t&&f(x),t&&f(w),t&&f(R),C=!1,_()}}}function Ct(t){let e,n,o,a,i,r,$,x,T,w,R,_,B,L,q,A,E,S,M,j,N,K,J,Z,G,U,V,X,tt,et,nt,st,at,it,rt,ct,ut,ft,lt,pt,mt,dt,kt,Tt,Ct,_t,Bt,Lt,qt,Ft,Wt,At,Et,St,Mt,jt,It,Dt,Ht,Ot,zt,Pt,Nt,Kt,Jt,Zt,Gt,Qt,Ut,Vt,Xt,Yt,te,ee,ne,se,oe,ae,ie,re,ce,ue,fe,le,pe,me,de,ge,he,ye,ke,ve,be,$e,xe,Te,we,Re,Ce,_e,Be,Le,qe,Fe,We,Ae,Ee,Se,Me,je,Ie,De,He,Oe,ze,Pe,Ne,Ke,Je,Ze,Ge,Qe,Ue,Ve,Xe,Ye,tn,en,nn,sn,on,an,rn,cn,un,fn,ln,pn,mn,dn,gn,hn,yn,kn=t[2].summary.cost+"",vn=t[2].summary.damage.toFixed(0)+"",bn=t[2].summary.cp.toFixed(0)+"";o=new Y({});let $n=gt,xn=[];for(let e=0;e<$n.length;e+=1)xn[e]=$t(bt(t,$n,e));let Tn=ot,wn=[];for(let e=0;e<Tn.length;e+=1)wn[e]=xt(vt(t,Tn,e));let Rn=t[1],Cn=[];for(let e=0;e<Rn.length;e+=1)Cn[e]=wt(yt(t,Rn,e));function _n(e){t[83](e)}let Bn={field:"name",text:"Name"};function Ln(e){t[84](e)}void 0!==t[11]&&(Bn.method=t[11]),Qe=new Q({props:Bn}),C.push((()=>H(Qe,"method",_n)));let qn={field:"cost",text:"Cost"};function Fn(e){t[85](e)}void 0!==t[11]&&(qn.method=t[11]),Xe=new Q({props:qn}),C.push((()=>H(Xe,"method",Ln)));let Wn={field:"damage",text:"Damage"};function An(e){t[86](e)}void 0!==t[11]&&(Wn.method=t[11]),en=new Q({props:Wn}),C.push((()=>H(en,"method",Fn)));let En={field:"cp",text:"CP"};function Sn(e){t[87](e)}void 0!==t[11]&&(En.method=t[11]),on=new Q({props:En}),C.push((()=>H(on,"method",An)));let Mn={field:"executeCost",text:"斬殺Cost"};void 0!==t[11]&&(Mn.method=t[11]),cn=new Q({props:Mn}),C.push((()=>H(cn,"method",Sn)));let jn=t[3],In=[];for(let e=0;e<jn.length;e+=1)In[e]=Rt(ht(t,jn,e));return{c(){e=p("h1"),e.textContent="Zold:Out Damage Calculator",n=d(),O(o.$$.fragment),a=d(),i=p("div"),r=p("span"),r.textContent="載入預設敵人",$=d(),x=p("select");for(let t=0;t<xn.length;t+=1)xn[t].c();T=d(),w=p("button"),w.textContent="Apply",R=d(),_=p("div"),B=p("span"),B.textContent="血量",L=d(),q=p("input"),A=d(),E=p("span"),E.textContent="防禦",S=d(),M=p("input"),j=d(),N=p("span"),N.textContent="魔防",K=d(),J=p("input"),Z=d(),G=p("span"),G.textContent="力量",U=d(),V=p("input"),X=d(),tt=p("span"),tt.textContent="自身物防",et=d(),nt=p("input"),st=d(),at=p("span"),at.textContent="智力",it=d(),rt=p("input"),ct=d(),ut=p("span"),ut.textContent="自身魔防",ft=d(),lt=p("input"),pt=d(),mt=p("span"),mt.textContent="火抗",dt=d(),kt=p("input"),Tt=d(),Ct=p("span"),Ct.textContent="水抗",_t=d(),Bt=p("input"),Lt=d(),qt=p("span"),qt.textContent="毒抗",Ft=d(),Wt=p("input"),At=d(),Et=p("span"),Et.textContent="雷抗",St=d(),Mt=p("input"),jt=d(),It=p("label"),Dt=p("input"),Ht=d(),Ot=p("span"),Ot.textContent="敵人凍結",zt=d(),Pt=p("label"),Nt=p("input"),Kt=d(),Jt=p("span"),Jt.textContent="敵人著火",Zt=d(),Gt=p("label"),Qt=p("input"),Ut=d(),Vt=p("span"),Vt.textContent="敵人中毒",Xt=d(),Yt=p("label"),te=p("input"),ee=d(),ne=p("span"),ne.textContent="敵人觸電",se=d(),oe=p("span"),oe.textContent="中毒發生次數",ae=d(),ie=p("input"),re=d(),ce=p("span"),ce.textContent="當前架勢",ue=d(),fe=p("input"),le=d(),pe=p("span"),pe.textContent="所有攻擊力增加（排位buff）",me=d(),de=p("input"),ge=d();for(let t=0;t<wn.length;t+=1)wn[t].c();he=d(),ye=p("h2"),ye.textContent="Combo",ke=d(),ve=p("div"),be=p("span"),be.textContent="Weapon",$e=d(),xe=p("span"),xe.textContent="Cost",Te=d(),we=p("span"),we.textContent="Damage",Re=d(),Ce=p("span"),Ce.textContent="CP",_e=d(),Be=p("span"),Le=d();for(let t=0;t<Cn.length;t+=1)Cn[t].c();qe=d(),Fe=p("span"),Fe.textContent="Summary",We=d(),Ae=p("span"),Ee=m(kn),Se=d(),Me=p("span"),je=m(vn),Ie=d(),De=p("span"),He=m(bn),Oe=d(),ze=p("button"),ze.textContent="Add to compare list",Pe=d(),Ne=p("h2"),Ne.textContent="Compare",Ke=d(),Je=p("button"),Je.textContent="Add all weapons",Ze=d(),Ge=p("div"),O(Qe.$$.fragment),Ve=d(),O(Xe.$$.fragment),tn=d(),O(en.$$.fragment),sn=d(),O(on.$$.fragment),rn=d(),O(cn.$$.fragment),fn=d(),ln=p("span"),pn=d();for(let t=0;t<In.length;t+=1)In[t].c();mn=d(),dn=p("footer"),dn.innerHTML='<a href="https://github.com/eight04/zoldout-damage-calculator">zoldout-damage-calculator</a>',void 0===t[24]&&F((()=>t[57].call(x))),h(i,"class","enemy-preset svelte-yq4ypk"),h(q,"type","number"),h(q,"class","cspan3 svelte-yq4ypk"),h(M,"type","number"),h(M,"class","cspan3 svelte-yq4ypk"),h(J,"type","number"),h(J,"class","cspan3 svelte-yq4ypk"),h(V,"type","number"),h(nt,"type","number"),h(rt,"type","number"),h(lt,"type","number"),h(kt,"type","number"),h(Bt,"type","number"),h(Wt,"type","number"),h(Mt,"type","number"),h(Dt,"type","checkbox"),h(It,"class","cspan svelte-yq4ypk"),h(Nt,"type","checkbox"),h(Pt,"class","cspan svelte-yq4ypk"),h(Qt,"type","checkbox"),h(Gt,"class","cspan svelte-yq4ypk"),h(te,"type","checkbox"),h(Yt,"class","cspan svelte-yq4ypk"),h(ie,"type","number"),h(fe,"type","number"),h(pe,"class","cspan svelte-yq4ypk"),h(de,"type","number"),h(de,"class","cspan svelte-yq4ypk"),h(_,"class","base-info svelte-yq4ypk"),h(be,"class","chead svelte-yq4ypk"),h(xe,"class","chead svelte-yq4ypk"),h(we,"class","chead svelte-yq4ypk"),h(Ce,"class","chead svelte-yq4ypk"),h(Be,"class","operation svelte-yq4ypk"),h(Fe,"class","chead svelte-yq4ypk"),h(Ae,"class","svelte-yq4ypk"),h(Me,"class","svelte-yq4ypk"),h(De,"class","svelte-yq4ypk"),h(ve,"class","combo-table svelte-yq4ypk"),h(ln,"class","svelte-yq4ypk"),h(Ge,"class","compare-list svelte-yq4ypk"),h(dn,"class","svelte-yq4ypk")},m(s,f){u(s,e,f),u(s,n,f),z(o,s,f),u(s,a,f),u(s,i,f),c(i,r),c(i,$),c(i,x);for(let t=0;t<xn.length;t+=1)xn[t].m(x,null);b(x,t[24]),c(i,T),c(i,w),u(s,R,f),u(s,_,f),c(_,B),c(_,L),c(_,q),v(q,t[10]),c(_,A),c(_,E),c(_,S),c(_,M),v(M,t[9]),c(_,j),c(_,N),c(_,K),c(_,J),v(J,t[8]),c(_,Z),c(_,G),c(_,U),c(_,V),v(V,t[22]),c(_,X),c(_,tt),c(_,et),c(_,nt),v(nt,t[20]),c(_,st),c(_,at),c(_,it),c(_,rt),v(rt,t[21]),c(_,ct),c(_,ut),c(_,ft),c(_,lt),v(lt,t[19]),c(_,pt),c(_,mt),c(_,dt),c(_,kt),v(kt,t[7]),c(_,Tt),c(_,Ct),c(_,_t),c(_,Bt),v(Bt,t[6]),c(_,Lt),c(_,qt),c(_,Ft),c(_,Wt),v(Wt,t[5]),c(_,At),c(_,Et),c(_,St),c(_,Mt),v(Mt,t[4]),c(_,jt),c(_,It),c(It,Dt),Dt.checked=t[17],c(It,Ht),c(It,Ot),c(_,zt),c(_,Pt),c(Pt,Nt),Nt.checked=t[18],c(Pt,Kt),c(Pt,Jt),c(_,Zt),c(_,Gt),c(Gt,Qt),Qt.checked=t[16],c(Gt,Ut),c(Gt,Vt),c(_,Xt),c(_,Yt),c(Yt,te),te.checked=t[15],c(Yt,ee),c(Yt,ne),c(_,se),c(_,oe),c(_,ae),c(_,ie),v(ie,t[14]),c(_,re),c(_,ce),c(_,ue),c(_,fe),v(fe,t[13]),c(_,le),c(_,pe),c(_,me),c(_,de),v(de,t[23]),c(_,ge);for(let t=0;t<wn.length;t+=1)wn[t].m(_,null);u(s,he,f),u(s,ye,f),u(s,ke,f),u(s,ve,f),c(ve,be),c(ve,$e),c(ve,xe),c(ve,Te),c(ve,we),c(ve,Re),c(ve,Ce),c(ve,_e),c(ve,Be),c(ve,Le);for(let t=0;t<Cn.length;t+=1)Cn[t].m(ve,null);c(ve,qe),c(ve,Fe),c(ve,We),c(ve,Ae),c(Ae,Ee),c(ve,Se),c(ve,Me),c(Me,je),c(ve,Ie),c(ve,De),c(De,He),u(s,Oe,f),u(s,ze,f),u(s,Pe,f),u(s,Ne,f),u(s,Ke,f),u(s,Je,f),u(s,Ze,f),u(s,Ge,f),z(Qe,Ge,null),c(Ge,Ve),z(Xe,Ge,null),c(Ge,tn),z(en,Ge,null),c(Ge,sn),z(on,Ge,null),c(Ge,rn),z(cn,Ge,null),c(Ge,fn),c(Ge,ln),c(Ge,pn);for(let t=0;t<In.length;t+=1)In[t].m(Ge,null);u(s,mn,f),u(s,dn,f),gn=!0,hn||(yn=[g(x,"change",t[57]),g(w,"click",t[46]),g(q,"input",t[58]),g(M,"input",t[59]),g(J,"input",t[60]),g(V,"input",t[61]),g(nt,"input",t[62]),g(rt,"input",t[63]),g(lt,"input",t[64]),g(kt,"input",t[65]),g(Bt,"input",t[66]),g(Wt,"input",t[67]),g(Mt,"input",t[68]),g(Dt,"change",t[69]),g(Nt,"change",t[70]),g(Qt,"change",t[71]),g(te,"change",t[72]),g(ie,"input",t[73]),g(fe,"input",t[74]),g(de,"input",t[75]),g(ze,"click",t[50]),g(Je,"click",t[52])],hn=!0)},p(t,e){if(0&e){let n;for($n=gt,n=0;n<$n.length;n+=1){const s=bt(t,$n,n);xn[n]?xn[n].p(s,e):(xn[n]=$t(s),xn[n].c(),xn[n].m(x,null))}for(;n<xn.length;n+=1)xn[n].d(1);xn.length=$n.length}if(16777216&e[0]&&b(x,t[24]),1024&e[0]&&y(q.value)!==t[10]&&v(q,t[10]),512&e[0]&&y(M.value)!==t[9]&&v(M,t[9]),256&e[0]&&y(J.value)!==t[8]&&v(J,t[8]),4194304&e[0]&&y(V.value)!==t[22]&&v(V,t[22]),1048576&e[0]&&y(nt.value)!==t[20]&&v(nt,t[20]),2097152&e[0]&&y(rt.value)!==t[21]&&v(rt,t[21]),524288&e[0]&&y(lt.value)!==t[19]&&v(lt,t[19]),128&e[0]&&y(kt.value)!==t[7]&&v(kt,t[7]),64&e[0]&&y(Bt.value)!==t[6]&&v(Bt,t[6]),32&e[0]&&y(Wt.value)!==t[5]&&v(Wt,t[5]),16&e[0]&&y(Mt.value)!==t[4]&&v(Mt,t[4]),131072&e[0]&&(Dt.checked=t[17]),262144&e[0]&&(Nt.checked=t[18]),65536&e[0]&&(Qt.checked=t[16]),32768&e[0]&&(te.checked=t[15]),16384&e[0]&&y(ie.value)!==t[14]&&v(ie,t[14]),8192&e[0]&&y(fe.value)!==t[13]&&v(fe,t[13]),8388608&e[0]&&y(de.value)!==t[23]&&v(de,t[23]),4096&e[0]){let n;for(Tn=ot,n=0;n<Tn.length;n+=1){const s=vt(t,Tn,n);wn[n]?wn[n].p(s,e):(wn[n]=xt(s),wn[n].c(),wn[n].m(_,null))}for(;n<wn.length;n+=1)wn[n].d(1);wn.length=Tn.length}if(7&e[0]|458752&e[1]){let n;for(Rn=t[1],n=0;n<Rn.length;n+=1){const s=yt(t,Rn,n);Cn[n]?Cn[n].p(s,e):(Cn[n]=wt(s),Cn[n].c(),Cn[n].m(ve,qe))}for(;n<Cn.length;n+=1)Cn[n].d(1);Cn.length=Rn.length}(!gn||4&e[0])&&kn!==(kn=t[2].summary.cost+"")&&k(Ee,kn),(!gn||4&e[0])&&vn!==(vn=t[2].summary.damage.toFixed(0)+"")&&k(je,vn),(!gn||4&e[0])&&bn!==(bn=t[2].summary.cp.toFixed(0)+"")&&k(He,bn);const n={};!Ue&&2048&e[0]&&(Ue=!0,n.method=t[11],W((()=>Ue=!1))),Qe.$set(n);const s={};!Ye&&2048&e[0]&&(Ye=!0,s.method=t[11],W((()=>Ye=!1))),Xe.$set(s);const o={};!nn&&2048&e[0]&&(nn=!0,o.method=t[11],W((()=>nn=!1))),en.$set(o);const a={};!an&&2048&e[0]&&(an=!0,a.method=t[11],W((()=>an=!1))),on.$set(a);const i={};if(!un&&2048&e[0]&&(un=!0,i.method=t[11],W((()=>un=!1))),cn.$set(i),8&e[0]|1048576&e[1]){let n;for(jn=t[3],n=0;n<jn.length;n+=1){const s=ht(t,jn,n);In[n]?In[n].p(s,e):(In[n]=Rt(s),In[n].c(),In[n].m(Ge,null))}for(;n<In.length;n+=1)In[n].d(1);In.length=jn.length}},i(t){gn||(I(o.$$.fragment,t),I(Qe.$$.fragment,t),I(Xe.$$.fragment,t),I(en.$$.fragment,t),I(on.$$.fragment,t),I(cn.$$.fragment,t),gn=!0)},o(t){D(o.$$.fragment,t),D(Qe.$$.fragment,t),D(Xe.$$.fragment,t),D(en.$$.fragment,t),D(on.$$.fragment,t),D(cn.$$.fragment,t),gn=!1},d(t){t&&f(e),t&&f(n),P(o,t),t&&f(a),t&&f(i),l(xn,t),t&&f(R),t&&f(_),l(wn,t),t&&f(he),t&&f(ye),t&&f(ke),t&&f(ve),l(Cn,t),t&&f(Oe),t&&f(ze),t&&f(Pe),t&&f(Ne),t&&f(Ke),t&&f(Je),t&&f(Ze),t&&f(Ge),P(Qe),P(Xe),P(en),P(on),P(cn),l(In,t),t&&f(mn),t&&f(dn),hn=!1,s(yn)}}}function _t(t,e,n){let s,o,a,c,u,f,l,p,m,d,g,h,k,v,b,x,T,w,R,C,_,{weapons:B,storeKey:L}=e;for(const t of B)t.atk&&!t.name.startsWith("奧義")&&(t.atk*=1.05);B.unshift({name:"移動",cost:"sword"===V?1:2});const q=Object.fromEntries(B.map((t=>[t.name,t]))),F=st("comm/hp",2736);i(t,F,(t=>n(10,p=t)));const W=st("comm/def",200);i(t,W,(t=>n(9,l=t)));const A=st("comm/mdef",200);i(t,A,(t=>n(8,f=t)));const E=st(`${L}/atk`,700);i(t,E,(t=>n(22,C=t)));const S=st(`${L}/int`,700);i(t,S,(t=>n(21,R=t)));const M=st(`${L}/selfDef`,1e3);i(t,M,(t=>n(20,w=t)));const j=st(`${L}/selfMdef`,500);i(t,j,(t=>n(19,T=t)));const I=st("comm/fireResist",0);i(t,I,(t=>n(7,u=t)));const D=st("comm/waterResist",0);i(t,D,(t=>n(6,c=t)));const H=st("comm/poisonResist",0);i(t,H,(t=>n(5,a=t)));const O=st("comm/lightningResist",0);i(t,O,(t=>n(4,o=t)));const z=st("comm/fire",!1);i(t,z,(t=>n(18,x=t)));const P=st("comm/freeze",!1);i(t,P,(t=>n(17,b=t)));const N=st("comm/poison",!1);i(t,N,(t=>n(16,v=t)));const K=st("comm/lightning",!1);i(t,K,(t=>n(15,k=t)));const J=st(`${L}/poisonTurns`,99);i(t,J,(t=>n(14,h=t)));const Z=st(`${L}/stance`,0);i(t,Z,(t=>n(13,g=t)));const G=st(`${L}/finalBonus`,0);i(t,G,(t=>n(23,_=t)));const Q=st(`${L}/passiveIds`,[]);i(t,Q,(t=>n(12,d=t)));const U=st(`${L}/compareList`,[]);i(t,U,(t=>n(56,s=t)));const X=st(`${L}/sortMethod`,{field:null,dir:1});let Y;i(t,X,(t=>n(11,m=t)));let tt=[B[0]],et={stages:[],summary:{damage:0,cost:0,cp:0}},nt=[],ot=[],at={};function it(t){tt.splice(t,0,tt[t]),n(1,tt)}function ct(t){tt.length<=1||(tt.splice(t,1),n(1,tt))}function ut(t,e){const s=tt[t];tt.splice(t,1),tt.splice(t+e,0,s),n(1,tt)}function ft(t){s.splice(t,1),U.set(s)}const lt=[[]];return t.$$set=t=>{"weapons"in t&&n(0,B=t.weapons),"storeKey"in t&&n(53,L=t.storeKey)},t.$$.update=()=>{if(16775152&t.$$.dirty[0]){n(55,at={hp:p,def:l,mdef:f,atk:C,int:R,selfDef:w,selfMdef:T,fire:x,freeze:b,poison:v,lightning:k,poisonTurns:h,stance:g,passiveIds:d,fireResist:u,waterResist:c,poisonResist:a,lightningResist:o,buff:[{finalBonus:_,times:999}]})}2&t.$$.dirty[0]|16777216&t.$$.dirty[1]&&n(2,et=rt({...at,weapons:tt})),50331648&t.$$.dirty[1]&&n(54,nt=s.map(((t,e)=>{const n=t.map((t=>q[t])),s=rt({...at,weapons:n});return{name:t.join("+"),index:e,...s.summary}}))),2056&t.$$.dirty[0]|8388608&t.$$.dirty[1]&&(n(3,ot=nt.slice()),m.field&&ot.sort(((t,e)=>(t[m.field]<e[m.field]?-1:t[m.field]>e[m.field]?1:0)*m.dir)))},[B,tt,et,ot,o,a,c,u,f,l,p,m,d,g,h,k,v,b,x,T,w,R,C,_,Y,F,W,A,E,S,M,j,I,D,H,O,z,P,N,K,J,Z,G,Q,U,X,function(){r(F,p=Y.hp||0,p),r(W,l=Y.def||0,l),r(A,f=Y.mdef||0,f),r(I,u=Y.fireResist||0,u),r(D,c=Y.waterResist||0,c),r(H,a=Y.poisonResist||0,a),r(O,o=Y.lightningResist||0,o)},it,ct,ut,function(){s.push(tt.map((t=>t.name))),U.set(s)},ft,function(){const t=new Set(s.map((t=>t[0])));for(const e of B)t.has(e.name)||s.push([e.name]);U.set(s)},L,nt,at,s,function(){Y=$(this),n(24,Y)},function(){p=y(this.value),F.set(p)},function(){l=y(this.value),W.set(l)},function(){f=y(this.value),A.set(f)},function(){C=y(this.value),E.set(C)},function(){w=y(this.value),M.set(w)},function(){R=y(this.value),S.set(R)},function(){T=y(this.value),j.set(T)},function(){u=y(this.value),I.set(u)},function(){c=y(this.value),D.set(c)},function(){a=y(this.value),H.set(a)},function(){o=y(this.value),O.set(o)},function(){b=this.checked,P.set(b)},function(){x=this.checked,z.set(x)},function(){v=this.checked,N.set(v)},function(){k=this.checked,K.set(k)},function(){h=y(this.value),J.set(h)},function(){g=y(this.value),Z.set(g)},function(){_=y(this.value),G.set(_)},function(){d=function(t,e,n){const s=new Set;for(let e=0;e<t.length;e+=1)t[e].checked&&s.add(t[e].__value);return n||s.delete(e),Array.from(s)}(lt[0],this.__value,this.checked),Q.set(d)},lt,function(t,e){t[e]=$(this),n(1,tt),n(0,B)},t=>ut(t,-1),t=>ut(t,1),t=>it(t),t=>ct(t),function(t){m=t,X.set(m)},function(t){m=t,X.set(m)},function(t){m=t,X.set(m)},function(t){m=t,X.set(m)},function(t){m=t,X.set(m)},t=>ft(t.index)]}const Bt=[{name:"閃耀之書",cost:4,grade:1,atk:230,atkType:"magic",modLv:"E",modType:"str"},{name:"憤怒之書",cost:2,grade:1,buff:[{bonus:15,times:1}]},{name:"大回復之書",cost:7,grade:1,atk:180,atkType:"heal",modLv:"D",modType:"int"},{name:"淨化之書",cost:3,grade:1,atk:30,atkType:"heal",modLv:"F",modType:"int"},{name:"燃燒之書",cost:4,grade:1,atk:150,atkType:"magic",modLv:"F",modType:"str",fire:{atk:220,time:4}},{name:"加速之書",cost:3,grade:1,atk:110,atkType:"heal",modLv:"F",modType:"int"},{name:"快速回復之書",cost:4,grade:2,atk:200,atkType:"heal",modLv:"D",modType:"int"},{name:"觸電之書",cost:3,grade:1,atk:50,atkType:"magic",modLv:"E",modType:"str",lightning:{atk:50,time:6}},{name:"聖光之書",cost:4,grade:2,atk:230,atkType:"magic",modLv:"D",modType:"str"},{name:"智慧之書",cost:4,grade:2,buff:[{int:200,times:99}]},{name:"高階回復之書",cost:7,grade:2,atk:100,atkType:"heal",modLv:"C",modType:"int"},{name:"自由火蝶",cost:4,grade:4,fire:{atk:720,time:4}},{name:"清淨如水",cost:6,grade:3,atk:155,atkType:"heal",modLv:"F",modType:"int",targets:99},{name:"雷電蜂",cost:4,grade:3,atk:100,atkType:"magic",modLv:"D",modType:"str",lightning:{atk:145,time:10}},{name:"猛炎之書",cost:5,grade:2,atk:330,atkType:"magic",modLv:"E",modType:"str",fire:{atk:480,time:4}},{name:"美味食譜100選",cost:8,grade:3,atk:400,atkType:"heal",modLv:"SS",modType:"int"},{name:"海魔獸歷史",cost:4,grade:3,atk:100,atkType:"heal",modLv:"E",modType:"int"},{name:"冰之凝視",cost:5,grade:3,atk:150,atkType:"heal",modLv:"D",modType:"int"},{name:"大馬達的激情",cost:4,grade:3,atk:250,atkType:"heal",modLv:"E",modType:"int",buff:[{atk:250,times:99,int:-700}]},{name:"火焰之加護",cost:4,grade:4,atk:20,atkType:"heal",modLv:"D",modType:"int"},{name:"聖樹祭慶祝指南",cost:5,grade:3,atk:50,atkType:"heal",modLv:"C",modType:"int",buff:[{def:250,times:99}]},{name:"夏洛蒂自傳",cost:5,grade:3,atk:350,atkType:"magic",modLv:"C",modType:"str"},{name:"摺疊式音箱",cost:4,grade:4,atk:80,atkType:"heal",modLv:"E",modType:"int"},{name:"摺疊式音箱．第二樂章",cost:4,grade:4,atk:80,atkType:"heal",modLv:"E",modType:"int"},{name:"摺疊式音箱．最終樂章",cost:3,grade:4,atk:80,atkType:"heal",modLv:"D",modType:"int",targets:99},{name:"神怒之書",cost:4,grade:3,buff:[{bonus:35,times:1}]},{name:"航海指南",cost:4,atk:220,atkType:"heal",modLv:"C",modType:"int"},{name:"刨冰食用指南",cost:4,grade:4,water:{modLv:"C",modType:"int",time:2}},{name:"深紅的日記",cost:5,grade:3,atk:250,atkType:"magic",modLv:"E",modType:"str",fire:{modLv:1.31,modType:"int",time:5}},{name:"眾神之怒",cost:3,grade:4,buff:[{bonus:30,times:1}]},{name:"生命滿溢",cost:3,grade:4,atk:300,atkType:"heal",modLv:"C",modType:"int"},{name:"聖火護盾",cost:7,grade:4,atk:82,atkType:"heal",modLv:"B",modType:"int"},{name:"結晶智慧",cost:4,grade:2,buff:[{int:400,times:99}]},{name:"腥紅海鯊後援團守則",cost:7,grade:4,atk:280,atkType:"heal",modLv:"C",modType:"int",targets:99},{name:"奧義（辛西婭）",cost:6,grade:4,atk:110,atkType:"magic",modLv:"S",modType:"str",targets:99},{name:"奧義（辛西婭）（地型）",cost:0,grade:4,atk:975,atkType:"magic",targets:99,hit:10},{name:"專武（辛西婭）",cost:5,grade:4,atk:280,atkType:"magic",modLv:"A",modType:"str",targets:99,bonus:30},{name:"專武（兔子莎蓮娜）",cost:2,grade:4,atk:30,atkType:"heal",modLv:"E",modType:"int",targets:1,bonus:30}],Lt=Bt.filter((t=>t.buff&&!t.modLv&&!t.atk));return{A:class extends J{constructor(t){super(),K(this,t,_t,Ct,a,{weapons:0,storeKey:53},null,[-1,-1,-1,-1])}},b:Lt,w:Bt}}();
//# sourceMappingURL=tome-0815975e.js.map
