var init3F7F7Fba=function(){"use strict";var t=[{name:"加護之劍",cost:3,grade:1,buff:[{atk:250,times:1}]},{name:"小曲刀",cost:2,grade:1,buff:[{atk:50,times:99}],stance:{gain:1}},{name:"平衡劍",cost:3,grade:2,atk:440,modLv:"D",stance:{gain:1}},{name:"騎士長劍",cost:4,grade:2,atk:250,modLv:"B",stance:{use:1,gain:2,bonus:50}},{name:"盜賊短劍",cost:2,grade:2,atk:300,modLv:"E",stance:{gain:1}},{name:"突襲彎刀",cost:4,grade:2,atk:570,modLv:"D"},{name:"神聖之劍",cost:2,grade:2,buff:[{atk:280,times:1}]},{name:"引燃火劍",cost:3,grade:2,atk:140,modLv:"C",fire:{cond:t=>t.fire,atk:520}},{name:"致毒曲刀",cost:4,grade:2,atk:300,modLv:"C",poison:{cond:t=>t.poison.length,atk:1100,turn:2}},{name:"火羽骸蝶",cost:4,grade:4,atk:510,modLv:"A",fire:{atk:400,time:5}},{name:"重鐵",cost:5,grade:2,atk:480,modLv:"A",collision:1},{name:"狼牙大劍",cost:5,grade:3,atk:200,modLv:"S",stance:{use:2,gain:0,bonus:60},collision:1},{name:"搗蛋南瓜君",cost:3,grade:3,atk:305,modLv:"E",stance:{use:1,gain:2},poison:{cond:t=>1===t.stance,atk:750,turn:1}},{name:"大商會特製杖中劍",cost:2,grade:3,atk:250,modLv:"F",buff:[{injuryBonus:-10,times:99}],stance:{gain:1}},{name:"舞台禮劍",cost:4,grade:3,atk:30,modLv:"A"},{name:"舞台禮劍（降攻）",cost:4,grade:3,atk:30,modLv:"A",bonus:50},{name:"星光蟹王輕劍",cost:7,grade:3,atk:500,modLv:"A"},{name:"大馬達碧綠結他",cost:3,grade:3,atk:500,stance:{gain:1}},{name:"大馬達碧綠結他（一架）",cost:1,grade:3,atk:500,stance:{gain:1}},{name:"海上衛士",cost:2,atk:20,atkType:"heal",modLv:"G",modType:"int",stance:{gain:1}},{name:"閃燃焰劍",cost:4,grade:3,atk:330,modLv:"B",fire:{cond:t=>t.fire,atk:900}},{name:"追擊彎刀",cost:4,grade:3,atk:500,modLv:"C",stance:{use:1,gain:2,bonus:40}},{name:"受祝福的聖樹樹枝",cost:4,grade:3,atk:420,modLv:"B"},{name:"飛翼結晶劍",cost:4,atk:800,modLv:"C",stance:{gain:1}},{name:"霹靂充氣棒",grad:4,cost:3,atk:450,modLv:"G"},{name:"霹靂充氣棒（觸電）",grad:4,cost:1,atk:450,modLv:"G"},{name:"報紙卷+12",cost:2,atk:200,modLv:"D"},{name:"俠盜短劍",cost:1,grade:3,atk:620,stance:{gain:1}},{name:"教堂禮劍",cost:3,grade:3,buff:[{atk:480,times:1}],stance:{gain:1}},{name:"破冰刀",cost:6,grade:3,atk:450,modLv:"S",beforeWeapon:t=>{t.freeze&&(t.buff.push({bonus:25,times:1}),t.freeze=!1)}},{name:"猛毒曲刀",cost:4,grade:3,atk:200,modLv:"B",poison:{cond:t=>t.poison.length,atk:1440,turn:2}},{name:"巨型西瓜冰棒",cost:4,grade:4,atk:50,modLv:"S"},{name:"巨型西瓜冰棒（凍結）",cost:4,grade:4,water:{atk:50,modLv:"S",modType:"atk",bonus:10}},{name:"動力能量劍",cost:4,grade:3,atk:950,modLv:"D",stance:{use:2,gain:0,bonus:80}},{name:"彩虹的指揮棒",cost:2,grade:3,atk:100,modLv:"E",buff:[{atk:300,times:99}]},{name:"閃電萬雷大軍刀",cost:5,grade:4,atk:500,modLv:"B"},{name:"閃電萬雷大軍刀（觸電）",cost:5,casting:3,grade:4,atk:500,atkType:"lightning",modLv:"B"},{name:"狂熱之聲",cost:2,grade:4,atk:300,modLv:"F",stance:{gain:1}},{name:"狂熱之聲．第二樂章",cost:3,grade:4,atk:380,modLv:"E",stance:{use:1,gain:2,bonus:30}},{name:"狂熱之聲．最終樂章",cost:4,grade:4,atk:450,modLv:"C",stance:{use:2,bonus:50}},{name:"赤嵐利牙",cost:6,grade:3,atk:600,modLv:"A",stance:{use:2}},{name:"赤嵐利牙（背）",cost:6,grade:3,atk:600,modLv:"A",stance:{use:2},bonus:60},{name:"赤嵐利牙（背）（二架）",cost:4,grade:3,atk:600,modLv:"A",stance:{use:2},bonus:60},{name:"赤嵐利牙（二架）",cost:4,grade:3,atk:600,modLv:"A",stance:{use:2}},{name:"爆燃殆盡",cost:3,grade:4,atk:70,modLv:"C",fire:{cond:t=>t.fire,atk:880}},{name:"劇毒蟲皇",cost:4,grade:4,atk:200,modLv:"B",poison:{cond:t=>t.poison.length,atk:1800,turn:3}},{name:"暗殺者之劍",cost:3,grade:3,atk:660,modLv:"E",stance:{gain:1}},{name:"暗殺者之劍（背）",cost:3,grade:3,atk:660,modLv:"E",stance:{gain:1},bonus:50},{name:"海盜彎刀",cost:3,grade:3,atk:460,modLv:"D",stance:{gain:1}},{name:"結晶神聖劍",cost:4,grade:4,buff:[{atk:400,times:1}],stance:{use:1,gain:2,buff:[{atk:300,times:1}]}},{name:"破滅寒冰",cost:4,grade:4,atk:420,modLv:"A"},{name:"破滅寒冰（凍結）",cost:4,grade:4,atk:420,atkType:"water",modLv:"A"},{name:"巨鯨之息",cost:5,grade:3,atk:233,atkType:"heal",modLv:"E",modType:"int"},{name:"巨鯨之息（一式）",cost:4,grade:3,atk:233,atkType:"heal",modLv:"E",modType:"int",stance:{gain:2}},{name:"高周波切割分解器",cost:3,grade:4,atk:930,modLv:"E",stance:{use:1,gain:2,bonus:30}},{name:"重騎兵之劍",cost:5,grade:4,atk:380,modLv:"S"},{name:"重騎兵之劍（防守）",cost:5,grade:4,atk:380,modLv:"S",bonus:40},{name:"海鯊大劍",cost:7,grade:4,atk:777,modLv:"SS",stance:{use:2,bonus:50}},{name:"大商會特製杖中劍",cost:2,grade:3,atk:262,modLv:"F",stance:{gain:1}},{name:"奧義（摩根）",cost:2,atk:1315,modLv:"SS0",stance:{use:2,bonus:50}},{name:"奧義（夏洛蒂）",cost:5,atk:2022,modLv:"Ex0"},{name:"奧義（夏洛蒂氣球）",cost:2,atk:0,atkType:"magic",modLv:"C0",modType:"int",hit:2},{name:"奧義（夏洛蒂圖騰）（單次）",cost:0,atk:700,atkType:"fire"},{name:"奧義（克萊拉）",cost:5,atkType:"physic",getAtk:t=>1500+1.35*t.getBuffedStat("atk")+1*t.getBuffedStat("selfDef"),hit:1,collision:1},{name:"專武（摩根）",cost:2,atk:80,atkType:"physic",modLv:"D",modType:"atk",stance:{gain:1},buff:[{atk:300,times:999}]}];function e(){}function a(t){return t()}function n(){return Object.create(null)}function s(t){t.forEach(a)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(t,a,n){t.$$.on_destroy.push(function(t,...a){if(null==t)return e;const n=t.subscribe(...a);return n.unsubscribe?()=>n.unsubscribe():n}(a,n))}function m(t,e,a){return t.set(a),e}function c(t,e){t.appendChild(e)}function d(t,e,a){t.insertBefore(e,a||null)}function g(t){t.parentNode.removeChild(t)}function l(t,e){for(let a=0;a<t.length;a+=1)t[a]&&t[a].d(e)}function u(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function p(){return f(" ")}function k(t,e,a,n){return t.addEventListener(e,a,n),()=>t.removeEventListener(e,a,n)}function h(t,e,a){null==a?t.removeAttribute(e):t.getAttribute(e)!==a&&t.setAttribute(e,a)}function v(t){return""===t?null:+t}function y(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function L(t,e){t.value=null==e?"":e}function b(t,e){for(let a=0;a<t.options.length;a+=1){const n=t.options[a];if(n.__value===e)return void(n.selected=!0)}t.selectedIndex=-1}function T(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function $(t,e,a){t.classList[a?"add":"remove"](e)}let x;function w(t){x=t}const B=[],R=[],S=[],C=[],A=Promise.resolve();let E=!1;function _(t){S.push(t)}function F(t){C.push(t)}const D=new Set;let q=0;function W(){const t=x;do{for(;q<B.length;){const t=B[q];q++,w(t),j(t.$$)}for(w(null),B.length=0,q=0;R.length;)R.pop()();for(let t=0;t<S.length;t+=1){const e=S[t];D.has(e)||(D.add(e),e())}S.length=0}while(B.length);for(;C.length;)C.pop()();E=!1,D.clear(),w(t)}function j(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(_)}}const M=new Set;function I(t,e){t&&t.i&&(M.delete(t),t.i(e))}function H(t,e,a,n){if(t&&t.o){if(M.has(t))return;M.add(t),undefined.c.push((()=>{M.delete(t),n&&(a&&t.d(1),n())})),t.o(e)}else n&&n()}function z(t,e,a){const n=t.$$.props[e];void 0!==n&&(t.$$.bound[n]=a,a(t.$$.ctx[n]))}function O(t){t&&t.c()}function P(t,e,n,i){const{fragment:r,on_mount:m,on_destroy:c,after_update:d}=t.$$;r&&r.m(e,n),i||_((()=>{const e=m.map(a).filter(o);c?c.push(...e):s(e),t.$$.on_mount=[]})),d.forEach(_)}function G(t,e){const a=t.$$;null!==a.fragment&&(s(a.on_destroy),a.fragment&&a.fragment.d(e),a.on_destroy=a.fragment=null,a.ctx=[])}function K(t,e){-1===t.$$.dirty[0]&&(B.push(t),E||(E=!0,A.then(W)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function N(t,a,o,i,r,m,c,d=[-1]){const l=x;w(t);const u=t.$$={fragment:null,ctx:null,props:m,update:e,not_equal:r,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(a.context||(l?l.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:a.target||l.$$.root};c&&c(u.root);let f=!1;if(u.ctx=o?o(t,a.props||{},((e,a,...n)=>{const s=n.length?n[0]:a;return u.ctx&&r(u.ctx[e],u.ctx[e]=s)&&(!u.skip_bound&&u.bound[e]&&u.bound[e](s),f&&K(t,e)),a})):[],u.update(),f=!0,s(u.before_update),u.fragment=!!i&&i(u.ctx),a.target){if(a.hydrate){const t=function(t){return Array.from(t.childNodes)}(a.target);u.fragment&&u.fragment.l(t),t.forEach(g)}else u.fragment&&u.fragment.c();a.intro&&I(t.$$.fragment),P(t,a.target,a.anchor,a.customElement),W()}w(l)}class J{$destroy(){G(this,1),this.$destroy=e}$on(t,e){const a=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return a.push(e),()=>{const t=a.indexOf(e);-1!==t&&a.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Z(t){let a,n,s,o;return{c(){a=u("button"),n=f(t[2]),h(a,"class","svelte-19loasr"),$(a,"sorted",t[0].field===t[1]),$(a,"reversed",t[0].dir<0)},m(e,i){d(e,a,i),c(a,n),s||(o=k(a,"click",t[3]),s=!0)},p(t,[e]){4&e&&y(n,t[2]),3&e&&$(a,"sorted",t[0].field===t[1]),1&e&&$(a,"reversed",t[0].dir<0)},i:e,o:e,d(t){t&&g(a),s=!1,o()}}}function Q(t,e,a){let{method:n,field:s,text:o}=e;return t.$$set=t=>{"method"in t&&a(0,n=t.method),"field"in t&&a(1,s=t.field),"text"in t&&a(2,o=t.text)},[n,s,o,function(){n.field!==s?(a(0,n.field=s,n),a(0,n.dir=1,n)):a(0,n.dir*=-1,n)}]}class U extends J{constructor(t){super(),N(this,t,Q,Z,i,{method:0,field:1,text:2})}}const V=location.pathname.match(/([^/.]*)(\.html)?$/),X=V[1]&&"index"!==V[1]?V[1]:"sword";function Y(t){let a,n,s,o,i,r,m,l;return{c(){a=u("ul"),n=u("li"),n.innerHTML='<a href="." class="svelte-116mxxw">劍</a>',s=p(),o=u("li"),o.innerHTML='<a href="bow.html" class="svelte-116mxxw">弓</a>',i=p(),r=u("li"),r.innerHTML='<a href="wand.html" class="svelte-116mxxw">杖</a>',m=p(),l=u("li"),l.innerHTML='<a href="tome.html" class="svelte-116mxxw">書</a>',h(n,"class","svelte-116mxxw"),$(n,"active","sword"===X),h(o,"class","svelte-116mxxw"),$(o,"active","bow"===X),h(r,"class","svelte-116mxxw"),$(r,"active","wand"===X),h(l,"class","svelte-116mxxw"),$(l,"active","tome"===X),h(a,"class","svelte-116mxxw")},m(t,e){d(t,a,e),c(a,n),c(a,s),c(a,o),c(a,i),c(a,r),c(a,m),c(a,l)},p:e,i:e,o:e,d(t){t&&g(a)}}}class tt extends J{constructor(t){super(),N(this,t,null,Y,i,{})}}const et=[];const at="zoldout-damage-calculator",nt=new Map;function st(t,a){if(nt.has(t))return nt.get(t);const n=function(t,a=e){let n;const s=new Set;function o(e){if(i(t,e)&&(t=e,n)){const e=!et.length;for(const e of s)e[1](),et.push(e,t);if(e){for(let t=0;t<et.length;t+=2)et[t][0](et[t+1]);et.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(i,r=e){const m=[i,r];return s.add(m),1===s.size&&(n=a(o)||e),i(t),()=>{s.delete(m),0===s.size&&(n(),n=null)}}}}(function(t){try{return JSON.parse(t)}catch{}}(localStorage.getItem(`${at}/${t}`))??a);return n.subscribe((e=>localStorage.setItem(`${at}/${t}`,JSON.stringify(e)))),nt.set(t,n),n}var ot=[{name:"攻擊力增加（維羅尼卡）",type:"sword",beforeAll:t=>{t.buff.push({bonus:20,times:99})}},{name:"力量增加量增加（摩根）",type:"sword",beforeAll:t=>{t.buffBonus.atk=25}},{name:"架勢武器傷害增加（摩根）",type:"sword",beforeWeapon:(t,e)=>{t.hit&&e.stance&&t.buff.push({bonus:15,times:1})}},{name:"使用武器後保持第一架勢（摩根）",type:"sword",afterWeapon:t=>{t.stance||(t.stance=1)}},{name:"攻擊力增加（夏洛蒂）",type:"sword",beforeAll:t=>{t.buff.push({bonus:45,times:99})}},{name:"碰撞傷害（克萊拉）",type:"buff",afterWeapon:t=>{t.damage+=700*t.collision}},{name:"攻擊後反擊四次（奧布利）",type:"sword",afterWeapon:t=>{if(!t.oblyPassive&&t.hit){const e=t.clone({oblyPassive:!0});e.processWeapon({name:"反擊",cost:0,atk:0,modLv:1.45,hit:4}),t.damage+=e.damage}}},{name:"傷害後攻擊增加（艾莉諾拉）",type:"bow",afterHit:t=>{t.buff.push({bonus:5,times:99})}},{name:"第2+次傷害攻擊機率增加（艾莉諾拉）",type:"bow",afterHit:t=>{1===t.totalHit&&t.buff.push({bonus:21,times:99})}},{name:"使用武器後中毒（格蕾絲）",type:"bow",afterWeapon:(t,e)=>{t.hit&&!e.name.includes("奧義")&&t.poison.push({atk:300,turn:2,bonus:0})}},{name:"製造虛影（菲恩）",type:"bow",beforeAll:t=>{t.moves=0,t.isShadow=!1},afterWeapon:(t,e)=>{if("移動"===e.name)return void t.moves++;if(t.isShadow)return;let{atk:a,buff:n,cost:s,damage:o}=t;t.isShadow=!0,t.atk=1047,t.buff=[];for(let a=0;a<t.moves;a++)t.processWeapon(e),o+=t.damage;t.atk=a,t.buff=n,t.cost=s,t.isShadow=!1,t.damage=o}},{name:"使用武器後擊退（莎菈/約瑟芬/薇薇安）",type:"buff",beforeWeapon:t=>{t.collision++}},{name:"傷害後點燃或額外傷害（艾娜）",type:"bow",afterHit:t=>{t.fire?t.damage+=360*t.getFireResist():(t.fire=!0,t.damage+=540*t.getFireResist())}},{name:"凍結時增加水傷（奧蘿菈）",type:"buff",beforeWeapon:t=>{let e=t.targetBuff.find((t=>"arora"===t.id));e||(e={id:"arora",times:999},t.targetBuff.push(e)),e.waterInjuryBonus=t.freeze?30:0}},{name:"使用火武器後加速（歌莉雅）",type:"wand",afterWeapon:(t,e)=>{e.fire?.time&&(t.cost-=2)}},{name:"著火時增傷、減抗（歌莉雅）",type:"buff",beforeHit:t=>{let e=t.targetBuff.find((t=>"goriya1"===t.id));e||(e={id:"goriya1",times:99},t.targetBuff.push(e)),e.injuryBonus=t.fire?10:0,e.fireResist=t.fire?-10:0}},{name:"大範圍武器加速、攻擊增加（聖樹梅米）",type:"wand",beforeWeapon:(t,e)=>{"large"===e.range&&(t.cost-=1,t.hit&&t.buff.push({bonus:10,times:1}))}},{name:"打星（納蒂雅）",type:"buff",beforeWeapon:(t,e)=>{e.atkType&&"physic"!==e.atkType||(t.oldTarget=t.getTarget(),t.setTarget({def:0,mdef:0,waterResist:100,fireResist:100,poisonResist:100,lightningResist:100,targetBuff:[]}))},afterWeapon:(t,e)=>{if(e.atkType&&"physic"!==e.atkType)return;const a=t.clone({buff:t.buff.map((t=>({...t}))).filter((t=>t.finalBonus)),targetBuff:t.oldTarget.targetBuff});a.setTarget(t.oldTarget),a.processWeapon({atk:1.2*a.damage,atkType:"magic"}),t.damage=a.damage,t.setTarget(t.oldTarget)}},{name:"物理傷害增加一次（納蒂雅）",type:"buff",beforeAll:t=>{t.buff.push({physicBonus:15,times:1})}},{name:"額外傷害（尤里+泳裝伊蓮）",type:"wand",afterWeapon:(t,e)=>{e.water&&(t.damage+=2*(900-t.getDef({atkType:"magic"})))}},{name:"魔攻增加（西比拉）",type:"wand",beforeWeapon:(t,e)=>{e.casting>=6&&t.hit&&t.buff.push({bonus:25,times:1})}},{name:"水武器智力增加（泳裝伊蓮）",type:"buff",beforeWeapon:(t,e)=>{(e.water||"water"===e.atkType)&&t.buff.push({int:300,times:1,id:"swimElinInt"})},afterWeapon:t=>{const e=t.buff.findIndex((t=>"swimElinInt"===t.id));e>=0&&t.buff.splice(e,1)}},{name:"水傷增加（泳裝伊蓮奧義）",type:"buff",beforeAll:t=>{t.targetBuff.push({id:"swimElin",waterInjuryBonus:40,times:99})}},{name:"攻擊前觸電（尤拉莉亞）",type:"tome",beforeWeapon:(t,e)=>{if(t.ulalia)return;const a=e.targets??1;if(t.hit&&"heal"!==e.atkType&&1===a){const e=t.clone({ulalia:!0});e.processWeapon({lightning:{atk:200,time:7}}),t.damage+=e.damage,t.lightning=e.lightning}}},{name:"電傷增加（尤拉莉亞）",type:"buff",beforeAll:t=>{t.targetBuff.push({id:"ulalia",lightningInjuryBonus:20,times:99})}},{name:"生命回復（塔尼亞）",type:"tome",afterWeapon:(t,e)=>{t.hit&&"heal"!==e.atkType||(t.damage+=360)}},{name:"加速（塔尼亞）",type:"tome",afterWeapon:(t,e)=>{(!t.hit&&e.buff||"heal"===e.atkType)&&t.cost--}}];const it={G:.6,F:.85,E:1.1,D:1.35,C:1.6,B:1.85,A:2.1,S:2.35,SS:2.6,SSS:2.85,Ex:3.1};for(const t in it)it[`${t}-`]=it[t]-.05,it[`${t}0`]=it[t]-.1;class rt{constructor({hp:t,atk:e,int:a,selfDef:n=1e3,selfMdef:s=500,def:o,mdef:i,fireResist:r,waterResist:m,poisonResist:c,lightningResist:d,fire:g=!1,freeze:l=!1,poison:u=!1,lightning:f=!1,poisonTurns:p,lightningAtk:k,stance:h=0,maxTargets:v=1,passive:y,buff:L=[]}){this.atk=e,this.int=a,this.selfDef=n,this.selfMdef=s,this.hp=t,this.def=o,this.mdef=i,this.fireResist=r,this.waterResist=m,this.poisonResist=c,this.lightningResist=d,this.poisonTurns=p,this.maxTargets=v,this.passive=y,this.damage=0,this.hit=0,this.totalHit=0,this.stance=h,this.buff=L.slice(),this.buffBonus={},this.targetBuff=[],this.targets=0,this.collision=0,this.poison=u?[{atk:0,turn:99}]:[],this.lightning=f?{atk:k,time:99}:{},this.fire=g,this.freeze=l}clone(t={}){const e=new rt({});return Object.assign(e,this,t),e}getBuffedStat(t,e="stack"){if("stack"===e){const e=this.buffBonus[t]||0;return(this[t]||0)+this.buff.reduce(((e,a)=>e+(a[t]||0)),0)*(1+e/100)}return(this[t]||1)*this.buff.reduce(((e,a)=>e*(1+(a[t]||0)/100)),1)}getTargetBuffedStat(t,e="stack"){return"stack"===e?(this[t]||0)+this.targetBuff.reduce(((e,a)=>e+(a[t]||0)),0):(this[t]||1)*this.targetBuff.reduce(((e,a)=>e*(1+(a[t]||0)/100)),1)}getDef(t){return ct(this,t)}_getResist(t,e,a){return(1-(this[t]?this[t]+this.targetBuff.reduce(((e,a)=>e+(a[t]||0)),0):0)/100)*this.buff.reduce(((t,a)=>t*(1+(a[e]||0)/100)),1)*this.targetBuff.reduce(((t,e)=>t*(1+(e[a]||0)/100)),1)}getFireResist(){return this._getResist("fireResist","fireBonus","fireInjuryBonus")}getWaterResist(){return this._getResist("waterResist","waterBonus","waterInjuryBonus")}getPoisonResist(){return this._getResist("poisonResist","poisonBonus","poisonInjuryBonus")}getLightningResist(){return this._getResist("lightningResist","lightningBonus","lightningInjuryBonus")}getInjuryBonus(){return(this.targetBuff.reduce(((t,e)=>t+(e.injuryBonus||0)),0)+100)/100}getWaterAtk(t){return dt(this,t)}getFireAtk(t){return dt(this,t)}getLightningAtk(t){return dt(this,t)}getPoisonAtk(t){return dt(this,t)}processWeapon(t){return ut(this,t)}getFinalBonus(){return this.buff.reduce(((t,e)=>t*(1+(e.finalBonus||0)/100)),1)}getTarget(){return{hp:this.hp,mdef:this.mdef,def:this.def,waterResist:this.waterResist,fireResist:this.fireResist,poisonResist:this.poisonResist,lightningResist:this.lightningResist,targetBuff:this.targetBuff}}setTarget(t){Object.assign(this,t)}reduceBuffTimes(){this.buff=this.buff.map((t=>({...t,times:t.times-1}))).filter((t=>t.times>0)),this.targetBuff=this.targetBuff.map((t=>({...t,times:t.times-1}))).filter((t=>t.times>0))}}function mt({weapons:t,passiveIds:e,...a}){const n=ot.filter(((t,a)=>e.includes(a))),s=[],o=new rt({...a,passive:n});lt(o,null,"beforeAll");for(const e of t){const t=pt(o,e);s.push(t)}const i=s.reduce(((t,e)=>t+e.damage),0),r=s.reduce(((t,e)=>t+e.cost),0);return{stages:s,summary:{damage:i,cost:r,executeCost:Math.ceil(o.hp/i)*r,cp:i/r}}}function ct(t,{atkType:e}){if("heal"===e)return 0;if("water"===e||"fire"===e||"poison"===e||"lightning"===e)return 0;const a="magic"===e?t.getTargetBuffedStat("mdef"):t.getTargetBuffedStat("def");return Math.max(a,0)}function dt(t,{modType:e,modLv:a,atk:n=0,bonus:s=0}){const o="int"===e?t.getBuffedStat("int"):t.getBuffedStat("atk");return(n+(a?o*function(t){if("number"==typeof t)return t;if(it[t])return it[t];throw new Error(`unknown modLv: ${t}`)}(a):0))*(s+100)/100}function gt(t){let e=0;for(const a of t.poison)a.atk&&(e+=a.atk*Math.min(a.turn,t.poisonTurns)/a.turn*t.getPoisonResist());return e*t.getFinalBonus()}function lt(t,e,a){t.passive.forEach((n=>n[a]?.(t,e))),e?.[a]?.(t,e)}function ut(t,e){t.cost=e.casting||e.cost,t.hit=e.hit||(e.atk||e.modLv?1:0),t.damage=0,t.targets=Math.min(t.maxTargets,e.targets||1),t.collision=e.collision||0,lt(t,e,"beforeWeapon");const a=ct(t,e),n=function(t,{atkType:e}){return"fire"===e?t.getFireResist():"water"===e?t.getWaterResist():"poison"===e?t.getPoisonResist():"lightning"===e?t.getLightningResist():"magic"===e?t._getResist(null,"magicBonus","magicInjuryBonus"):t._getResist(null,"physicBonus","physicInjuryBonus")}(t,e);for(let s=0;s<t.hit;s++){lt(t,e,"beforeHit"),t.currentHit=s+1,t.totalHit++;let o=e.getAtk?e.getAtk(t):dt(t,e);o*=t.getBuffedStat("bonus","multiply"),e.stance?.use===t.stance&&(o*=((e.stance.bonus||0)+100)/100),o*=t.getFinalBonus(),t.damage+=Math.max(o-a,1)*n*t.getInjuryBonus()*t.targets,t.lightning?.atk&&(t.damage+=t.lightning.atk*t.getLightningResist()*t.targets),lt(t,e,"afterHit")}if(t.hit&&t.reduceBuffTimes(),e.trap){const a=t.clone({passive:[],buff:t.buff.filter((t=>t.finalBonus)).map((t=>({...t})))});a.processWeapon(e.trap),t.damage+=a.damage}if(!e.fire||e.fire.cond&&!e.fire.cond(t)||(t.damage+=t.getFireAtk(e.fire)*t.getFireResist()*t.targets*t.getFinalBonus(),e.fire.time&&(t.fire=!0)),!e.water||e.water.cond&&!e.water.cond(t)||(t.damage+=t.getWaterAtk(e.water)*t.getWaterResist()*t.targets*t.getFinalBonus(),e.water.time&&(t.freeze=!0)),e.lightning&&(!e.lightning.cond||e.lightning.cond(t))){const a=t.getLightningAtk(e.lightning);t.damage+=a*t.getLightningResist()*t.targets*t.getFinalBonus(),e.lightning.time>(t.lightning.time||0)&&(t.lightning.time=e.lightning.time),a>(t.lightning.atk||0)&&(t.lightning.atk=a)}if(e.poison&&(!e.poison.cond||e.poison.cond(t))){for(let a=0;a<t.targets;a++)t.poison.push({atk:t.getPoisonAtk(e.poison),turn:e.poison.turn,bonus:0});e.poison.bonus&&(t.poison=t.poison.map((t=>{const a=(t.bonus+100)*(e.poison.bonus+100)/100-100;return{...t,bonus:Math.min(a,200)}})))}e.buff&&ft(t.buff,e.buff),e.targetBuff&&ft(t.targetBuff,e.targetBuff),e.stance?.use===t.stance&&e.stance.buff&&ft(t.buff,e.stance.buff),null!=e.stance?.gain&&(t.stance=e.stance.gain),lt(t,e,"afterWeapon")}function ft(t,e){const a=new Map(t.map(((t,e)=>[t.id,e])));for(const n of e)n.id&&a.has(n.id)?t[a.get(n.id)]=n:t.push(n)}function pt(t,e){const a=gt(t);return ut(t,e),t.damage+=gt(t)-a,{damage:t.damage,cost:t.cost}}var kt=[{name:"星光帝王蟹",def:999999,mdef:999999,fireResist:-100,waterResist:99,poisonResist:99,lightningResist:-100},{name:"利文",def:197,mdef:355,fireResist:50,waterResist:30,poisonResist:60,lightningResist:70},{name:"腐朽魔像",def:431,mdef:180,fireResist:50,waterResist:80,poisonResist:99,lightningResist:-40},{name:"雪人王",def:319,mdef:319,hp:68886,fireResist:-30,waterResist:0,poisonResist:-42,lightningResist:50},{name:"黃昏雲團",def:189,mdef:304,fireResist:75,waterResist:50,poisonResist:50,lightningResist:75},{name:"火鷹族勇士",def:229,mdef:465,fireResist:100,waterResist:-100,poisonResist:75,lightningResist:40},{name:"坑道地蛛",def:131,mdef:981,fireResist:70,waterResist:90,poisonResist:20,lightningResist:80},{name:"赫黑狼人",def:758,mdef:915,fireResist:70,waterResist:20,poisonResist:50,lightningResist:30},{name:"霧影蛇龍",def:385,mdef:1049,fireResist:30,waterResist:80,poisonResist:-30,lightningResist:40}];function ht(t,e,a){const n=t.slice();return n[93]=e[a],n}function vt(t,e,a){const n=t.slice();return n[96]=e[a],n[97]=e,n[98]=a,n}function yt(t,e,a){const n=t.slice();return n[99]=e[a],n}function Lt(t,e,a){const n=t.slice();return n[102]=e[a],n[98]=a,n}function bt(t,e,a){const n=t.slice();return n[104]=e[a],n}function Tt(t){let a,n,s=t[104].name+"";return{c(){a=u("option"),n=f(s),a.__value=t[104],a.value=a.__value},m(t,e){d(t,a,e),c(a,n)},p:e,d(t){t&&g(a)}}}function $t(t){let e,a=(X===t[102].type||"buff"===t[102].type)&&function(t){let e,a,n,s,o,i,r,m,l=t[102].name+"";return{c(){e=u("label"),a=u("input"),n=p(),s=u("span"),o=f(l),i=p(),h(a,"type","checkbox"),a.__value=t[98],a.value=a.__value,t[80][0].push(a),h(e,"class","cspan svelte-yq4ypk")},m(g,l){d(g,e,l),c(e,a),a.checked=~t[12].indexOf(a.__value),c(e,n),c(e,s),c(s,o),c(e,i),r||(m=k(a,"change",t[79]),r=!0)},p(t,e){4096&e[0]&&(a.checked=~t[12].indexOf(a.__value))},d(n){n&&g(e),t[80][0].splice(t[80][0].indexOf(a),1),r=!1,m()}}}(t);return{c(){a&&a.c(),e=f("")},m(t,n){a&&a.m(t,n),d(t,e,n)},p(t,e){X!==t[102].type&&"buff"!==t[102].type||a.p(t,e)},d(t){a&&a.d(t),t&&g(e)}}}function xt(t){let e,a,n,s=t[99].name+"";return{c(){e=u("option"),a=f(s),e.__value=n=t[99],e.value=e.__value},m(t,n){d(t,e,n),c(e,a)},p(t,o){1&o[0]&&s!==(s=t[99].name+"")&&y(a,s),1&o[0]&&n!==(n=t[99])&&(e.__value=n,e.value=e.__value)},d(t){t&&g(e)}}}function wt(t){let e,a,n,o,i,r,m,v,L,T,$,x,w,B,R,S,C,A,E,F,D,q=t[2].stages[t[98]]?.cost+"",W=t[2].stages[t[98]]?.damage.toFixed(0)+"",j=((t[2].stages[t[98]]?.damage||0)/t[2].stages[t[98]]?.cost).toFixed(0)+"",M=t[0],I=[];for(let e=0;e<M.length;e+=1)I[e]=xt(yt(t,M,e));function H(){t[81].call(e,t[97],t[98])}function z(){return t[82](t[98])}function O(){return t[83](t[98])}function P(){return t[84](t[98])}function G(){return t[85](t[98])}return{c(){e=u("select");for(let t=0;t<I.length;t+=1)I[t].c();a=p(),n=u("span"),o=f(q),i=p(),r=u("span"),m=f(W),v=p(),L=u("span"),T=f(j),$=p(),x=u("div"),w=u("button"),w.textContent="↑",B=p(),R=u("button"),R.textContent="↓",S=p(),C=u("button"),C.textContent="⎘",A=p(),E=u("button"),E.textContent="x",h(e,"class","svelte-yq4ypk"),void 0===t[96]&&_(H),h(n,"class","svelte-yq4ypk"),h(r,"class","svelte-yq4ypk"),h(L,"class","svelte-yq4ypk"),h(x,"class","operation svelte-yq4ypk")},m(s,g){d(s,e,g);for(let t=0;t<I.length;t+=1)I[t].m(e,null);b(e,t[96]),d(s,a,g),d(s,n,g),c(n,o),d(s,i,g),d(s,r,g),c(r,m),d(s,v,g),d(s,L,g),c(L,T),d(s,$,g),d(s,x,g),c(x,w),c(x,B),c(x,R),c(x,S),c(x,C),c(x,A),c(x,E),F||(D=[k(e,"change",H),k(w,"click",z),k(R,"click",O),k(C,"click",P),k(E,"click",G)],F=!0)},p(a,n){if(t=a,1&n[0]){let a;for(M=t[0],a=0;a<M.length;a+=1){const s=yt(t,M,a);I[a]?I[a].p(s,n):(I[a]=xt(s),I[a].c(),I[a].m(e,null))}for(;a<I.length;a+=1)I[a].d(1);I.length=M.length}3&n[0]&&b(e,t[96]),4&n[0]&&q!==(q=t[2].stages[t[98]]?.cost+"")&&y(o,q),4&n[0]&&W!==(W=t[2].stages[t[98]]?.damage.toFixed(0)+"")&&y(m,W),4&n[0]&&j!==(j=((t[2].stages[t[98]]?.damage||0)/t[2].stages[t[98]]?.cost).toFixed(0)+"")&&y(T,j)},d(t){t&&g(e),l(I,t),t&&g(a),t&&g(n),t&&g(i),t&&g(r),t&&g(v),t&&g(L),t&&g($),t&&g(x),F=!1,s(D)}}}function Bt(t){let e,a,n,s,o,i,r,m,l,v,L,b,T,$,x,w,B,R,S=t[93].name+"",C=t[93].cost+"",A=t[93].damage.toFixed(0)+"",E=t[93].cp.toFixed(0)+"",_=t[93].executeCost+"";function F(){return t[91](t[93])}return{c(){e=u("span"),a=f(S),n=p(),s=u("span"),o=f(C),i=p(),r=u("span"),m=f(A),l=p(),v=u("span"),L=f(E),b=p(),T=u("span"),$=f(_),x=p(),w=u("button"),w.textContent="x",h(e,"class","svelte-yq4ypk"),h(s,"class","svelte-yq4ypk"),h(r,"class","svelte-yq4ypk"),h(v,"class","svelte-yq4ypk"),h(T,"class","svelte-yq4ypk"),h(w,"class","svelte-yq4ypk")},m(t,g){d(t,e,g),c(e,a),d(t,n,g),d(t,s,g),c(s,o),d(t,i,g),d(t,r,g),c(r,m),d(t,l,g),d(t,v,g),c(v,L),d(t,b,g),d(t,T,g),c(T,$),d(t,x,g),d(t,w,g),B||(R=k(w,"click",F),B=!0)},p(e,n){t=e,8&n[0]&&S!==(S=t[93].name+"")&&y(a,S),8&n[0]&&C!==(C=t[93].cost+"")&&y(o,C),8&n[0]&&A!==(A=t[93].damage.toFixed(0)+"")&&y(m,A),8&n[0]&&E!==(E=t[93].cp.toFixed(0)+"")&&y(L,E),8&n[0]&&_!==(_=t[93].executeCost+"")&&y($,_)},d(t){t&&g(e),t&&g(n),t&&g(s),t&&g(i),t&&g(r),t&&g(l),t&&g(v),t&&g(b),t&&g(T),t&&g(x),t&&g(w),B=!1,R()}}}function Rt(t){let e,a,n,o,i,r,m,T,$,x,w,B,S,C,A,E,D,q,W,j,M,K,N,J,Z,Q,V,X,Y,et,at,nt,st,it,rt,mt,ct,dt,gt,lt,ut,ft,pt,yt,xt,Rt,St,Ct,At,Et,_t,Ft,Dt,qt,Wt,jt,Mt,It,Ht,zt,Ot,Pt,Gt,Kt,Nt,Jt,Zt,Qt,Ut,Vt,Xt,Yt,te,ee,ae,ne,se,oe,ie,re,me,ce,de,ge,le,ue,fe,pe,ke,he,ve,ye,Le,be,Te,$e,xe,we,Be,Re,Se,Ce,Ae,Ee,_e,Fe,De,qe,We,je,Me,Ie,He,ze,Oe,Pe,Ge,Ke,Ne,Je,Ze,Qe,Ue,Ve,Xe,Ye,ta,ea,aa,na,sa,oa,ia,ra,ma,ca,da,ga,la,ua,fa,pa,ka,ha,va,ya,La,ba=t[2].summary.cost+"",Ta=t[2].summary.damage.toFixed(0)+"",$a=t[2].summary.cp.toFixed(0)+"";n=new tt({});let xa=kt,wa=[];for(let e=0;e<xa.length;e+=1)wa[e]=Tt(bt(t,xa,e));let Ba=ot,Ra=[];for(let e=0;e<Ba.length;e+=1)Ra[e]=$t(Lt(t,Ba,e));let Sa=t[1],Ca=[];for(let e=0;e<Sa.length;e+=1)Ca[e]=wt(vt(t,Sa,e));function Aa(e){t[86](e)}let Ea={field:"name",text:"Name"};function _a(e){t[87](e)}void 0!==t[11]&&(Ea.method=t[11]),Ye=new U({props:Ea}),R.push((()=>z(Ye,"method",Aa)));let Fa={field:"cost",text:"Cost"};function Da(e){t[88](e)}void 0!==t[11]&&(Fa.method=t[11]),aa=new U({props:Fa}),R.push((()=>z(aa,"method",_a)));let qa={field:"damage",text:"Damage"};function Wa(e){t[89](e)}void 0!==t[11]&&(qa.method=t[11]),oa=new U({props:qa}),R.push((()=>z(oa,"method",Da)));let ja={field:"cp",text:"CP"};function Ma(e){t[90](e)}void 0!==t[11]&&(ja.method=t[11]),ma=new U({props:ja}),R.push((()=>z(ma,"method",Wa)));let Ia={field:"executeCost",text:"斬殺Cost"};void 0!==t[11]&&(Ia.method=t[11]),ga=new U({props:Ia}),R.push((()=>z(ga,"method",Ma)));let Ha=t[3],za=[];for(let e=0;e<Ha.length;e+=1)za[e]=Bt(ht(t,Ha,e));return{c(){e=u("h1"),e.textContent="Zold:Out Damage Calculator",a=p(),O(n.$$.fragment),o=p(),i=u("div"),r=u("span"),r.textContent="載入預設敵人",m=p(),T=u("select");for(let t=0;t<wa.length;t+=1)wa[t].c();$=p(),x=u("button"),x.textContent="Apply",w=p(),B=u("div"),S=u("span"),S.textContent="血量",C=p(),A=u("input"),E=p(),D=u("span"),D.textContent="防禦",q=p(),W=u("input"),j=p(),M=u("span"),M.textContent="魔防",K=p(),N=u("input"),J=p(),Z=u("span"),Z.textContent="力量",Q=p(),V=u("input"),X=p(),Y=u("span"),Y.textContent="自身物防",et=p(),at=u("input"),nt=p(),st=u("span"),st.textContent="智力",it=p(),rt=u("input"),mt=p(),ct=u("span"),ct.textContent="自身魔防",dt=p(),gt=u("input"),lt=p(),ut=u("span"),ut.textContent="火抗",ft=p(),pt=u("input"),yt=p(),xt=u("span"),xt.textContent="水抗",Rt=p(),St=u("input"),Ct=p(),At=u("span"),At.textContent="毒抗",Et=p(),_t=u("input"),Ft=p(),Dt=u("span"),Dt.textContent="雷抗",qt=p(),Wt=u("input"),jt=p(),Mt=u("label"),It=u("input"),Ht=p(),zt=u("span"),zt.textContent="敵人凍結",Ot=p(),Pt=u("label"),Gt=u("input"),Kt=p(),Nt=u("span"),Nt.textContent="敵人著火",Jt=p(),Zt=u("label"),Qt=u("input"),Ut=p(),Vt=u("span"),Vt.textContent="敵人中毒",Xt=p(),Yt=u("label"),te=u("input"),ee=p(),ae=u("span"),ae.textContent="敵人觸電",ne=p(),se=u("span"),se.textContent="中毒發生次數",oe=p(),ie=u("input"),re=p(),me=u("span"),me.textContent="觸電傷害",ce=p(),de=u("input"),ge=p(),le=u("span"),le.textContent="當前架勢",ue=p(),fe=u("input"),pe=p(),ke=u("span"),ke.textContent="所有攻擊力增加（排位buff）",he=p(),ve=u("input"),ye=p();for(let t=0;t<Ra.length;t+=1)Ra[t].c();Le=p(),be=u("h2"),be.textContent="Combo",Te=p(),$e=u("div"),xe=u("span"),xe.textContent="Weapon",we=p(),Be=u("span"),Be.textContent="Cost",Re=p(),Se=u("span"),Se.textContent="Damage",Ce=p(),Ae=u("span"),Ae.textContent="CP",Ee=p(),_e=u("span"),Fe=p();for(let t=0;t<Ca.length;t+=1)Ca[t].c();De=p(),qe=u("span"),qe.textContent="Summary",We=p(),je=u("span"),Me=f(ba),Ie=p(),He=u("span"),ze=f(Ta),Oe=p(),Pe=u("span"),Ge=f($a),Ke=p(),Ne=u("button"),Ne.textContent="Add to compare list",Je=p(),Ze=u("h2"),Ze.textContent="Compare",Qe=p(),Ue=u("button"),Ue.textContent="Add all weapons",Ve=p(),Xe=u("div"),O(Ye.$$.fragment),ea=p(),O(aa.$$.fragment),sa=p(),O(oa.$$.fragment),ra=p(),O(ma.$$.fragment),da=p(),O(ga.$$.fragment),ua=p(),fa=u("span"),pa=p();for(let t=0;t<za.length;t+=1)za[t].c();ka=p(),ha=u("footer"),ha.innerHTML='<a href="https://github.com/eight04/zoldout-damage-calculator">zoldout-damage-calculator</a>',void 0===t[25]&&_((()=>t[59].call(T))),h(i,"class","enemy-preset svelte-yq4ypk"),h(A,"type","number"),h(A,"class","cspan3 svelte-yq4ypk"),h(W,"type","number"),h(W,"class","cspan3 svelte-yq4ypk"),h(N,"type","number"),h(N,"class","cspan3 svelte-yq4ypk"),h(V,"type","number"),h(at,"type","number"),h(rt,"type","number"),h(gt,"type","number"),h(pt,"type","number"),h(St,"type","number"),h(_t,"type","number"),h(Wt,"type","number"),h(It,"type","checkbox"),h(Mt,"class","cspan svelte-yq4ypk"),h(Gt,"type","checkbox"),h(Pt,"class","cspan svelte-yq4ypk"),h(Qt,"type","checkbox"),h(Zt,"class","cspan svelte-yq4ypk"),h(te,"type","checkbox"),h(Yt,"class","cspan svelte-yq4ypk"),h(ie,"type","number"),h(de,"type","number"),h(fe,"type","number"),h(fe,"class","cspan3 svelte-yq4ypk"),h(ke,"class","cspan svelte-yq4ypk"),h(ve,"type","number"),h(ve,"class","cspan svelte-yq4ypk"),h(B,"class","base-info svelte-yq4ypk"),h(xe,"class","chead svelte-yq4ypk"),h(Be,"class","chead svelte-yq4ypk"),h(Se,"class","chead svelte-yq4ypk"),h(Ae,"class","chead svelte-yq4ypk"),h(_e,"class","operation svelte-yq4ypk"),h(qe,"class","chead svelte-yq4ypk"),h(je,"class","svelte-yq4ypk"),h(He,"class","svelte-yq4ypk"),h(Pe,"class","svelte-yq4ypk"),h($e,"class","combo-table svelte-yq4ypk"),h(fa,"class","svelte-yq4ypk"),h(Xe,"class","compare-list svelte-yq4ypk"),h(ha,"class","svelte-yq4ypk")},m(s,g){d(s,e,g),d(s,a,g),P(n,s,g),d(s,o,g),d(s,i,g),c(i,r),c(i,m),c(i,T);for(let t=0;t<wa.length;t+=1)wa[t].m(T,null);b(T,t[25]),c(i,$),c(i,x),d(s,w,g),d(s,B,g),c(B,S),c(B,C),c(B,A),L(A,t[10]),c(B,E),c(B,D),c(B,q),c(B,W),L(W,t[9]),c(B,j),c(B,M),c(B,K),c(B,N),L(N,t[8]),c(B,J),c(B,Z),c(B,Q),c(B,V),L(V,t[23]),c(B,X),c(B,Y),c(B,et),c(B,at),L(at,t[21]),c(B,nt),c(B,st),c(B,it),c(B,rt),L(rt,t[22]),c(B,mt),c(B,ct),c(B,dt),c(B,gt),L(gt,t[20]),c(B,lt),c(B,ut),c(B,ft),c(B,pt),L(pt,t[7]),c(B,yt),c(B,xt),c(B,Rt),c(B,St),L(St,t[6]),c(B,Ct),c(B,At),c(B,Et),c(B,_t),L(_t,t[5]),c(B,Ft),c(B,Dt),c(B,qt),c(B,Wt),L(Wt,t[4]),c(B,jt),c(B,Mt),c(Mt,It),It.checked=t[18],c(Mt,Ht),c(Mt,zt),c(B,Ot),c(B,Pt),c(Pt,Gt),Gt.checked=t[19],c(Pt,Kt),c(Pt,Nt),c(B,Jt),c(B,Zt),c(Zt,Qt),Qt.checked=t[17],c(Zt,Ut),c(Zt,Vt),c(B,Xt),c(B,Yt),c(Yt,te),te.checked=t[16],c(Yt,ee),c(Yt,ae),c(B,ne),c(B,se),c(B,oe),c(B,ie),L(ie,t[15]),c(B,re),c(B,me),c(B,ce),c(B,de),L(de,t[14]),c(B,ge),c(B,le),c(B,ue),c(B,fe),L(fe,t[13]),c(B,pe),c(B,ke),c(B,he),c(B,ve),L(ve,t[24]),c(B,ye);for(let t=0;t<Ra.length;t+=1)Ra[t].m(B,null);d(s,Le,g),d(s,be,g),d(s,Te,g),d(s,$e,g),c($e,xe),c($e,we),c($e,Be),c($e,Re),c($e,Se),c($e,Ce),c($e,Ae),c($e,Ee),c($e,_e),c($e,Fe);for(let t=0;t<Ca.length;t+=1)Ca[t].m($e,null);c($e,De),c($e,qe),c($e,We),c($e,je),c(je,Me),c($e,Ie),c($e,He),c(He,ze),c($e,Oe),c($e,Pe),c(Pe,Ge),d(s,Ke,g),d(s,Ne,g),d(s,Je,g),d(s,Ze,g),d(s,Qe,g),d(s,Ue,g),d(s,Ve,g),d(s,Xe,g),P(Ye,Xe,null),c(Xe,ea),P(aa,Xe,null),c(Xe,sa),P(oa,Xe,null),c(Xe,ra),P(ma,Xe,null),c(Xe,da),P(ga,Xe,null),c(Xe,ua),c(Xe,fa),c(Xe,pa);for(let t=0;t<za.length;t+=1)za[t].m(Xe,null);d(s,ka,g),d(s,ha,g),va=!0,ya||(La=[k(T,"change",t[59]),k(x,"click",t[48]),k(A,"input",t[60]),k(W,"input",t[61]),k(N,"input",t[62]),k(V,"input",t[63]),k(at,"input",t[64]),k(rt,"input",t[65]),k(gt,"input",t[66]),k(pt,"input",t[67]),k(St,"input",t[68]),k(_t,"input",t[69]),k(Wt,"input",t[70]),k(It,"change",t[71]),k(Gt,"change",t[72]),k(Qt,"change",t[73]),k(te,"change",t[74]),k(ie,"input",t[75]),k(de,"input",t[76]),k(fe,"input",t[77]),k(ve,"input",t[78]),k(Ne,"click",t[52]),k(Ue,"click",t[54])],ya=!0)},p(t,e){if(0&e){let a;for(xa=kt,a=0;a<xa.length;a+=1){const n=bt(t,xa,a);wa[a]?wa[a].p(n,e):(wa[a]=Tt(n),wa[a].c(),wa[a].m(T,null))}for(;a<wa.length;a+=1)wa[a].d(1);wa.length=xa.length}if(33554432&e[0]&&b(T,t[25]),1024&e[0]&&v(A.value)!==t[10]&&L(A,t[10]),512&e[0]&&v(W.value)!==t[9]&&L(W,t[9]),256&e[0]&&v(N.value)!==t[8]&&L(N,t[8]),8388608&e[0]&&v(V.value)!==t[23]&&L(V,t[23]),2097152&e[0]&&v(at.value)!==t[21]&&L(at,t[21]),4194304&e[0]&&v(rt.value)!==t[22]&&L(rt,t[22]),1048576&e[0]&&v(gt.value)!==t[20]&&L(gt,t[20]),128&e[0]&&v(pt.value)!==t[7]&&L(pt,t[7]),64&e[0]&&v(St.value)!==t[6]&&L(St,t[6]),32&e[0]&&v(_t.value)!==t[5]&&L(_t,t[5]),16&e[0]&&v(Wt.value)!==t[4]&&L(Wt,t[4]),262144&e[0]&&(It.checked=t[18]),524288&e[0]&&(Gt.checked=t[19]),131072&e[0]&&(Qt.checked=t[17]),65536&e[0]&&(te.checked=t[16]),32768&e[0]&&v(ie.value)!==t[15]&&L(ie,t[15]),16384&e[0]&&v(de.value)!==t[14]&&L(de,t[14]),8192&e[0]&&v(fe.value)!==t[13]&&L(fe,t[13]),16777216&e[0]&&v(ve.value)!==t[24]&&L(ve,t[24]),4096&e[0]){let a;for(Ba=ot,a=0;a<Ba.length;a+=1){const n=Lt(t,Ba,a);Ra[a]?Ra[a].p(n,e):(Ra[a]=$t(n),Ra[a].c(),Ra[a].m(B,null))}for(;a<Ra.length;a+=1)Ra[a].d(1);Ra.length=Ba.length}if(7&e[0]|1835008&e[1]){let a;for(Sa=t[1],a=0;a<Sa.length;a+=1){const n=vt(t,Sa,a);Ca[a]?Ca[a].p(n,e):(Ca[a]=wt(n),Ca[a].c(),Ca[a].m($e,De))}for(;a<Ca.length;a+=1)Ca[a].d(1);Ca.length=Sa.length}(!va||4&e[0])&&ba!==(ba=t[2].summary.cost+"")&&y(Me,ba),(!va||4&e[0])&&Ta!==(Ta=t[2].summary.damage.toFixed(0)+"")&&y(ze,Ta),(!va||4&e[0])&&$a!==($a=t[2].summary.cp.toFixed(0)+"")&&y(Ge,$a);const a={};!ta&&2048&e[0]&&(ta=!0,a.method=t[11],F((()=>ta=!1))),Ye.$set(a);const n={};!na&&2048&e[0]&&(na=!0,n.method=t[11],F((()=>na=!1))),aa.$set(n);const s={};!ia&&2048&e[0]&&(ia=!0,s.method=t[11],F((()=>ia=!1))),oa.$set(s);const o={};!ca&&2048&e[0]&&(ca=!0,o.method=t[11],F((()=>ca=!1))),ma.$set(o);const i={};if(!la&&2048&e[0]&&(la=!0,i.method=t[11],F((()=>la=!1))),ga.$set(i),8&e[0]|4194304&e[1]){let a;for(Ha=t[3],a=0;a<Ha.length;a+=1){const n=ht(t,Ha,a);za[a]?za[a].p(n,e):(za[a]=Bt(n),za[a].c(),za[a].m(Xe,null))}for(;a<za.length;a+=1)za[a].d(1);za.length=Ha.length}},i(t){va||(I(n.$$.fragment,t),I(Ye.$$.fragment,t),I(aa.$$.fragment,t),I(oa.$$.fragment,t),I(ma.$$.fragment,t),I(ga.$$.fragment,t),va=!0)},o(t){H(n.$$.fragment,t),H(Ye.$$.fragment,t),H(aa.$$.fragment,t),H(oa.$$.fragment,t),H(ma.$$.fragment,t),H(ga.$$.fragment,t),va=!1},d(t){t&&g(e),t&&g(a),G(n,t),t&&g(o),t&&g(i),l(wa,t),t&&g(w),t&&g(B),l(Ra,t),t&&g(Le),t&&g(be),t&&g(Te),t&&g($e),l(Ca,t),t&&g(Ke),t&&g(Ne),t&&g(Je),t&&g(Ze),t&&g(Qe),t&&g(Ue),t&&g(Ve),t&&g(Xe),G(Ye),G(aa),G(oa),G(ma),G(ga),l(za,t),t&&g(ka),t&&g(ha),ya=!1,s(La)}}}function St(t,e,a){let n,s,o,i,c,d,g,l,u,f,p,k,h,y,L,b,$,x,w,B,R,S,{weapons:C,storeKey:A}=e;for(const t of C)t.atk&&!t.name.startsWith("奧義")&&(t.atk*=1.05);C.unshift({name:"移動",cost:"sword"===X?1:2});const E=Object.fromEntries(C.map((t=>[t.name,t]))),_=st("comm/hp",2736);r(t,_,(t=>a(10,l=t)));const F=st("comm/def",200);r(t,F,(t=>a(9,g=t)));const D=st("comm/mdef",200);r(t,D,(t=>a(8,d=t)));const q=st(`${A}/atk`,700);r(t,q,(t=>a(23,R=t)));const W=st(`${A}/int`,700);r(t,W,(t=>a(22,B=t)));const j=st(`${A}/selfDef`,1e3);r(t,j,(t=>a(21,w=t)));const M=st(`${A}/selfMdef`,500);r(t,M,(t=>a(20,x=t)));const I=st("comm/fireResist",0);r(t,I,(t=>a(7,c=t)));const H=st("comm/waterResist",0);r(t,H,(t=>a(6,i=t)));const z=st("comm/poisonResist",0);r(t,z,(t=>a(5,o=t)));const O=st("comm/lightningResist",0);r(t,O,(t=>a(4,s=t)));const P=st("comm/fire",!1);r(t,P,(t=>a(19,$=t)));const G=st("comm/freeze",!1);r(t,G,(t=>a(18,b=t)));const K=st("comm/poison",!1);r(t,K,(t=>a(17,L=t)));const N=st("comm/lightning",!1);r(t,N,(t=>a(16,y=t)));const J=st(`${A}/poisonTurns`,99);r(t,J,(t=>a(15,h=t)));const Z=st(`${A}/lightningAtk`,145);r(t,Z,(t=>a(14,k=t)));const Q=st(`${A}/stance`,0);r(t,Q,(t=>a(13,p=t)));const U=st(`${A}/finalBonus`,0);r(t,U,(t=>a(24,S=t)));const V=st(`${A}/passiveIds`,[]);r(t,V,(t=>a(12,f=t)));const Y=st(`${A}/compareList`,[]);r(t,Y,(t=>a(58,n=t)));const tt=st(`${A}/sortMethod`,{field:null,dir:1});let et;r(t,tt,(t=>a(11,u=t)));let at=[C[0]],nt={stages:[],summary:{damage:0,cost:0,cp:0}},ot=[],it=[],rt={};function ct(t){at.splice(t,0,at[t]),a(1,at)}function dt(t){at.length<=1||(at.splice(t,1),a(1,at))}function gt(t,e){const n=at[t];at.splice(t,1),at.splice(t+e,0,n),a(1,at)}function lt(t){n.splice(t,1),Y.set(n)}const ut=[[]];return t.$$set=t=>{"weapons"in t&&a(0,C=t.weapons),"storeKey"in t&&a(55,A=t.storeKey)},t.$$.update=()=>{if(33552368&t.$$.dirty[0]){a(57,rt={hp:l,def:g,mdef:d,atk:R,int:B,selfDef:w,selfMdef:x,fire:$,freeze:b,poison:L,lightning:y,poisonTurns:h,lightningAtk:k,stance:p,passiveIds:f,fireResist:c,waterResist:i,poisonResist:o,lightningResist:s,buff:[{finalBonus:S,times:999}]})}2&t.$$.dirty[0]|67108864&t.$$.dirty[1]&&a(2,nt=mt({...rt,weapons:at})),201326592&t.$$.dirty[1]&&a(56,ot=n.map(((t,e)=>{const a=t.map((t=>E[t])),n=mt({...rt,weapons:a});return{name:t.join("+"),index:e,...n.summary}}))),2056&t.$$.dirty[0]|33554432&t.$$.dirty[1]&&(a(3,it=ot.slice()),u.field&&it.sort(((t,e)=>(t[u.field]<e[u.field]?-1:t[u.field]>e[u.field]?1:0)*u.dir)))},[C,at,nt,it,s,o,i,c,d,g,l,u,f,p,k,h,y,L,b,$,x,w,B,R,S,et,_,F,D,q,W,j,M,I,H,z,O,P,G,K,N,J,Z,Q,U,V,Y,tt,function(){m(_,l=et.hp||0,l),m(F,g=et.def||0,g),m(D,d=et.mdef||0,d),m(I,c=et.fireResist||0,c),m(H,i=et.waterResist||0,i),m(z,o=et.poisonResist||0,o),m(O,s=et.lightningResist||0,s)},ct,dt,gt,function(){n.push(at.map((t=>t.name))),Y.set(n)},lt,function(){const t=new Set(n.map((t=>t[0])));for(const e of C)t.has(e.name)||n.push([e.name]);Y.set(n)},A,ot,rt,n,function(){et=T(this),a(25,et)},function(){l=v(this.value),_.set(l)},function(){g=v(this.value),F.set(g)},function(){d=v(this.value),D.set(d)},function(){R=v(this.value),q.set(R)},function(){w=v(this.value),j.set(w)},function(){B=v(this.value),W.set(B)},function(){x=v(this.value),M.set(x)},function(){c=v(this.value),I.set(c)},function(){i=v(this.value),H.set(i)},function(){o=v(this.value),z.set(o)},function(){s=v(this.value),O.set(s)},function(){b=this.checked,G.set(b)},function(){$=this.checked,P.set($)},function(){L=this.checked,K.set(L)},function(){y=this.checked,N.set(y)},function(){h=v(this.value),J.set(h)},function(){k=v(this.value),Z.set(k)},function(){p=v(this.value),Q.set(p)},function(){S=v(this.value),U.set(S)},function(){f=function(t,e,a){const n=new Set;for(let e=0;e<t.length;e+=1)t[e].checked&&n.add(t[e].__value);return a||n.delete(e),Array.from(n)}(ut[0],this.__value,this.checked),V.set(f)},ut,function(t,e){t[e]=T(this),a(1,at),a(0,C)},t=>gt(t,-1),t=>gt(t,1),t=>ct(t),t=>dt(t),function(t){u=t,tt.set(u)},function(t){u=t,tt.set(u)},function(t){u=t,tt.set(u)},function(t){u=t,tt.set(u)},function(t){u=t,tt.set(u)},t=>lt(t.index)]}class Ct extends J{constructor(t){super(),N(this,t,St,Rt,i,{weapons:0,storeKey:55},null,[-1,-1,-1,-1])}}const At=[{name:"閃耀之書",cost:4,grade:1,atk:230,atkType:"magic",modLv:"E",modType:"str"},{name:"憤怒之書",cost:2,grade:1,buff:[{bonus:15,times:1}]},{name:"大回復之書",cost:7,grade:1,atk:180,atkType:"heal",modLv:"D",modType:"int"},{name:"淨化之書",cost:3,grade:1,atk:30,atkType:"heal",modLv:"F",modType:"int"},{name:"燃燒之書",cost:4,grade:1,atk:150,atkType:"magic",modLv:"F",modType:"str",fire:{atk:220,time:4}},{name:"加速之書",cost:3,grade:1,atk:110,atkType:"heal",modLv:"F",modType:"int"},{name:"快速回復之書",cost:4,grade:2,atk:200,atkType:"heal",modLv:"D",modType:"int"},{name:"觸電之書",cost:3,grade:1,atk:50,atkType:"magic",modLv:"E",modType:"str",lightning:{atk:50,time:6}},{name:"聖光之書",cost:4,grade:2,atk:230,atkType:"magic",modLv:"D",modType:"str",collision:1},{name:"智慧之書",cost:4,grade:2,buff:[{int:200,times:99}]},{name:"高階回復之書",cost:7,grade:2,atk:100,atkType:"heal",modLv:"C",modType:"int"},{name:"自由火蝶",cost:4,grade:4,fire:{atk:720,time:4}},{name:"清淨如水",cost:6,grade:3,atk:155,atkType:"heal",modLv:"F",modType:"int",targets:99},{name:"雷電蜂",cost:4,grade:3,atk:100,atkType:"magic",modLv:"D",modType:"str",lightning:{atk:145,time:10}},{name:"猛炎之書",cost:5,grade:2,atk:330,atkType:"magic",modLv:"E",modType:"str",fire:{atk:480,time:4}},{name:"美味食譜100選",cost:8,grade:3,atk:400,atkType:"heal",modLv:"SS",modType:"int"},{name:"大商會特製記帳本",cost:5,grade:3,atk:50,atkType:"magic",modLv:"C",modType:"str",targetBuff:[{mdef:-100,times:99}]},{name:"海魔獸歷史",cost:4,grade:3,atk:100,atkType:"heal",modLv:"E",modType:"int"},{name:"冰之凝視",cost:5,grade:3,atk:150,atkType:"heal",modLv:"D",modType:"int"},{name:"大馬達的激情",cost:4,grade:3,atk:250,atkType:"heal",modLv:"E",modType:"int",buff:[{atk:250,times:99,int:-700}]},{name:"火焰之加護",cost:4,grade:4,atk:20,atkType:"heal",modLv:"D",modType:"int"},{name:"聖樹祭慶祝指南",cost:5,grade:3,atk:50,atkType:"heal",modLv:"C",modType:"int",buff:[{def:250,times:99}]},{name:"夏洛蒂自傳",cost:5,grade:3,atk:350,atkType:"magic",modLv:"C",modType:"str"},{name:"摺疊式音箱",cost:4,grade:4,atk:80,atkType:"heal",modLv:"E",modType:"int"},{name:"摺疊式音箱．第二樂章",cost:4,grade:4,atk:80,atkType:"heal",modLv:"E",modType:"int"},{name:"摺疊式音箱．最終樂章",cost:3,grade:4,atk:80,atkType:"heal",modLv:"D",modType:"int",targets:99},{name:"船帆操作指南",cost:4,grade:3,atk:100,atkType:"heal",modLv:"E",modType:"int"},{name:"狂暴西瓜",cost:3,grade:4,atk:300,atkType:"magic",modLv:"G",modType:"str",lightning:{modLv:.35+.05,modType:"int",time:4}},{name:"神怒之書",cost:4,grade:3,buff:[{bonus:35,times:1}]},{name:"航海指南",cost:4,atk:220,atkType:"heal",modLv:"C",modType:"int"},{name:"刨冰食用指南",cost:4,grade:4,water:{modLv:"C",modType:"int",time:2}},{name:"深紅的日記",cost:5,grade:3,atk:250,atkType:"magic",modLv:"E",modType:"str",fire:{modLv:1.31,modType:"int",time:5}},{name:"凶獸撕咬",cost:2,grade:3,atk:240,atkType:"lightning",modLv:"G",modType:"str"},{name:"眾神之怒",cost:3,grade:4,buff:[{bonus:30,times:1}]},{name:"生命滿溢",cost:3,grade:4,atk:300,atkType:"heal",modLv:"C",modType:"int"},{name:"聖火護盾",cost:7,grade:4,atk:82,atkType:"heal",modLv:"B",modType:"int"},{name:"結晶智慧",cost:4,grade:2,buff:[{int:400,times:99}]},{name:"腥紅海鯊後援團守則",cost:7,grade:4,atk:280,atkType:"heal",modLv:"C",modType:"int",targets:99},{name:"奧義（辛西婭）",cost:6,grade:4,atk:110,atkType:"magic",modLv:"S",modType:"str",targets:99},{name:"奧義（辛西婭）（地型）",cost:0,grade:4,atk:975,atkType:"magic",targets:99,hit:10},{name:"奧義（尤拉莉亞）",cost:5,grade:4,atk:900,atkType:"lightning",modLv:"A",targets:99},{name:"專武（辛西婭）",cost:5,grade:4,atk:280,atkType:"magic",modLv:"A",modType:"str",targets:99,bonus:30,collision:1},{name:"專武（尤拉莉亞）（回復）",cost:2,grade:4,atk:60,atkType:"heal",modLv:"E",modType:"str",targets:1},{name:"專武（尤拉莉亞）（攻擊）",cost:2,grade:4,atk:60,atkType:"magic",modLv:"E",modType:"str",targets:1},{name:"專武（兔子莎蓮娜）",cost:2,grade:4,atk:30,atkType:"heal",modLv:"E",modType:"int",targets:1,bonus:30},{name:"專武（刃之）",cost:5,atk:350,atkType:"heal",modLv:"C",modType:"int",targets:1,buff:[{injuryBonus:-20,times:99}]},{name:"專武（珍）",cost:3,buff:[{bonus:30,times:1}]}];var Et=[{name:"訓練用陷阱弓",cost:5,grade:1,trap:{atk:1300}},{name:"誘毒弓",cost:3,grade:2,atk:80,modLv:"F",poison:{bonus:20}},{name:"大弓",cost:6,grade:1,atk:290,modLv:"D"},{name:"炸彈弓",cost:4,grade:2,atk:100,modLv:"E",collision:1},{name:"遊擊短弓",cost:3,grade:2,atk:150,modLv:"C",collision:1},{name:"彈射陷阱弓",cost:5,grade:2,trap:{atk:2250},collision:1},{name:"連射弓",cost:5,grade:2,atk:127,modLv:"F",hit:3},{name:"反向彈射陷阱弓",cost:4,grade:2,trap:{atk:1850},collision:1},{name:"楓木弓",cost:2,grade:2,atk:150,modLv:"D"},{name:"蛇毒弓",cost:3,grade:2,atk:260,modLv:"E",poison:{atk:640,turn:2}},{name:"樹藤弓",cost:3,grade:2,atk:250,modLv:"E",collision:1},{name:"劇毒骸蝶",cost:4,grade:4,atk:350,modLv:"C",poison:{atk:1340,turn:4}},{name:"狼牙弓",cost:3,grade:4,atk:80,modLv:"B",collision:1},{name:"騷靈之弓",cost:4,grade:3,atk:40,modLv:"F"},{name:"重型炸彈弓",cost:5,grade:3,atk:80,modLv:"D",targetBuff:[{id:"heavyBomb",def:-100,times:99}],collision:1},{name:"元素獵者",cost:3,grade:3,atk:73,modLv:"D",targetBuff:[{elementResist:-10,times:99}]},{name:"驚嚇小精靈",cost:5,grade:3,atk:50,modLv:"C"},{name:"大商會特製獵弓",cost:2,grade:3,atk:110,modLv:"E"},{name:"大商會特製獵弓（二次傷害）",cost:2,grade:3,atk:110,modLv:"E",bonus:40},{name:"開蛋器",cost:3,grade:3,atk:220,modLv:"D"},{name:"碧海旋螺弓",cost:3,grade:3,atk:370,modLv:"D"},{name:"魚叉射手",cost:3,grade:3,atk:520,modLv:"D",collision:1},{name:"引蜂毒素",cost:4,grade:3,atk:130,modLv:"F",poison:{bonus:35}},{name:"眼鏡蛇弓",cost:3,grade:3,atk:210,modLv:"D",poison:{atk:870,turn:3}},{name:"白夜禮物派送器",cost:5,grade:3,trap:{water:{atk:2100,time:6}}},{name:"射不準的玩具弓",cost:2,grade:3,targets:2,atk:120,modLv:"E"},{name:"射不準的玩具弓（兩倍）",cost:2,grade:3,atk:120,modLv:"E",hit:2},{name:"深沉之音",cost:4,grade:4,trap:{atk:1300,modLv:"A",modType:"int"}},{name:"深沉之音．第二樂章",cost:4,grade:4,trap:{atk:1350,modLv:"S",modType:"int"}},{name:"深沉之音．最終樂章",cost:2,grade:4,trap:{atk:1400,modLv:"SS",modType:"int"}},{name:"街角獵手",cost:5,grade:3,trap:{atk:1870,modLv:"SSS",modType:"int"},targetBuff:[{id:"streetHunter",def:-350,times:999}]},{name:"徹甲旋殼弓",cost:2,grade:3,atk:440,modLv:"G",targetBuff:[{id:"spiralShell",def:-100,times:999}]},{name:"魔力水槍",cost:2,grade:4,atk:200,atkType:"lightning",modLv:"E",modType:"int"},{name:"彈射陷阱弓MK2",cost:5,grade:3,trap:{atk:1600,modLv:"S",modType:"int"},collision:1},{name:"精靈之森",cost:3,grade:3,atk:165,modLv:"C",targetBuff:[{id:"elfForest",def:-100,times:99}]},{name:"熱帶魚槍",cost:3,grade:4,atk:220,modLv:"D",targetBuff:[{id:"tropicalFish",def:-150,times:99}]},{name:"鐵輪鋼力弓",cost:4,grade:3,atk:250,modLv:"E"},{name:"幽暗的長弓",cost:4,grade:3,atk:500,modLv:"E",poison:{modLv:1.3,modType:"int",turn:3}},{name:"隼之狩",cost:3,grade:4,atk:400,modLv:"A"},{name:"魔像結晶弓",cost:4,grade:4,atk:120,modLv:"D"},{name:"魔像結晶弓（擊殺）",cost:1,grade:4,atk:120,modLv:"D"},{name:"實驗炸彈彈射器",cost:6,grade:4,atk:100,modLv:"D",collision:1},{name:"天之鎖鍊",cost:4,grade:4,atk:350,modLv:"C",collision:1},{name:"阿波羅",cost:6,grade:4,atk:150,modLv:"A"},{name:"超性能瞄準儀",cost:3,grade:4,atk:300,modLv:"C"},{name:"超性能瞄準儀（毒、電）",cost:3,grade:4,atk:300,modLv:"C",bonus:30},{name:"反向彈射陷阱弓MK2",cost:4,grade:3,trap:{atk:1200,modLv:"S",modType:"int"},collision:1},{name:"狂暴追獵",cost:4,grade:4,atk:100,modLv:"F",hit:3},{name:"哨兵獵弓",cost:5,grade:3,atk:205,modLv:"D",trap:{atk:2e3,time:20}},{name:"狂鯊獵弓",cost:4,grade:4,atk:190,modLv:"C",targets:99},{name:"專武（艾娜）",cost:3,grade:3,atk:210,atkType:"fire",modLv:"D"},{name:"專武（艾莉諾拉）",cost:3,grade:3,atk:82,modLv:"F",lightning:{atk:70,time:10},afterWeapon:(t,e)=>{const{damage:a}=t;t.processWeapon({...e,lightning:null,afterWeapon:null}),t.damage+=a}},{name:"專武（格蕾絲）",cost:5,grade:3,atk:231,modLv:"D",poison:{atk:1e3,turn:2,bonus:30}},{name:"專武（泳多莉）",cost:3,grade:3,atk:10,atkType:"water",modLv:"F-",modType:"int",hit:3},{name:"專武（聖誕赫利德）",cost:3,grade:3,atk:200,modLv:"D",poison:{atk:600,turn:2},fire:{atk:100,time:6}},{name:"專武（亞歷克斯）",cost:3,grade:3,atk:450,modLv:1.45,collision:1},{name:"奧義（格蕾絲）",cost:7,atk:285,modLv:"B0",poison:{atk:1440,turn:3,extend:2}},{name:"奧義（艾莉諾拉）",cost:6,atk:240,modLv:"E0",hit:6},{name:"奧義（菲恩）",cost:2,atk:330,modLv:"C0",hit:2,targetBuff:[{def:-150,times:99}]},{name:"奧義（薇薇安）",cost:4,trap:{atk:100,modLv:"C0",hit:4,bonus:20,time:15}},{name:"奧義（泳多莉）",cost:4,atk:160,atkType:"water",modLv:"E0",modType:"int",hit:5,lightning:{atk:100,time:6}},{name:"奧義（艾娜）",cost:5,atk:579,modLv:"A0",fire:{atk:1080,time:6}},{name:"奧義（聖誕赫利德）",cost:8,atk:150,modLv:"B0",hit:4,trap:{atk:1400,time:999}}];const _t=[{name:"初等火焰法杖",cost:7,casting:3,grade:1,atk:210,modLv:"E0",fire:{atk:150,time:6},range:"middle"},{name:"木製法杖",cost:5,grade:1,atk:100,modLv:"B",range:"middle"},{name:"初等暴風法杖",cost:7,casting:4,grade:1,atk:286,modLv:"F",range:"large"},{name:"初等閃電法杖",cost:6,casting:5,grade:1,atk:480,modLv:"A",range:"small"},{name:"初等冰霜法杖",cost:7,casting:6,grade:1,atk:214,modLv:"D",water:{atk:450,time:5},range:"middle"},{name:"驅散法杖",cost:6,grade:1,atk:280,modLv:"B",range:"small"},{name:"火焰法杖",cost:5,casting:4,grade:2,atk:178,modLv:"C",fire:{atk:400,time:5},range:"middle"},{name:"力量強化杖",cost:3,casting:3,grade:2,buff:[{atk:200,times:99}],range:"nearSmall"},{name:"初級魔法凝聚",cost:3,grade:2,buff:[{bonus:10,times:1}],range:"single"},{name:"暴風法杖",cost:8,casting:4,grade:3,atk:200,modLv:"D",range:"large",collision:1},{name:"冰霜法杖",cost:7,casting:6,grade:2,atk:221,modLv:"B",water:{atk:760,time:5},range:"middle"},{name:"橡木法杖",cost:4,grade:2,atk:392,modLv:"D",range:"middle"},{name:"閃電法杖",cost:7,casting:5,grade:2,atk:860,modLv:"S",lightning:{atk:150,time:6},range:"small"},{name:"超級力量強化杖",cost:4,casting:4,grade:3,buff:[{atk:350,times:99}],range:"nearSmall"},{name:"小雞閃光杖",cost:3,casting:1,grade:2,atk:100,modLv:"F",range:"small"},{name:"骸蝶魅影",cost:12,casting:10,grade:4,atk:1340,modLv:"SSS",range:"middle"},{name:"暗影杖",cost:9,casting:7,grade:2,atk:450,modLv:"S",targetBuff:[{mdef:-150,times:99}],range:"middle"},{name:"灼熱日冕",cost:6,casting:5,grade:3,atk:293,modLv:"A",fire:{atk:700,time:5},range:"middle"},{name:"中級魔法凝聚",cost:4,grade:3,buff:[{bonus:15,times:1,id:"midMagicCondense"}],range:"single"},{name:"大商會特製多彩光棒",cost:7,casting:4,grade:3,atk:50,modLv:"B",range:"middle",getAtk:t=>50+1.85*t.getBuffedStat("int")+600*(t.freeze+t.fire+!!t.lightning.time+t.poison.length)},{name:"彩蛋權杖",cost:5,grade:3,atk:102,modLv:"B",range:"middle"},{name:"星光蟹王杖",cost:1,grade:3,buff:[{selfMdef:400,times:999,id:"starlight"}]},{name:"老大的象徵",cost:4,grade:3,atk:790,modLv:"E",range:"nearSmall"},{name:"碧空颶風",cost:8,casting:4,grade:4,atk:120,modLv:"C",range:"large",collision:1},{name:"閃光法杖",cost:4,casting:2,grade:3,atk:150,modLv:"C",range:"small"},{name:"冰雕魔杖",cost:5,casting:4,grade:3,atk:65,modLv:"C",water:{atk:730,time:3},range:"middle"},{name:"爆烈敲擊",cost:8,casting:5,grade:4,range:"middle",atk:400,modLv:"D"},{name:"爆烈敲擊．第二樂章",cost:7,casting:4,grade:4,range:"nearLarge",atk:200,modLv:"B"},{name:"爆烈敲擊．最終樂章",cost:6,casting:3,grade:4,range:"large",atk:0,modLv:"SSS"},{name:"風暴之怒",cost:10,casting:10,atk:1880,modLv:"A",range:"middle"},{name:"風暴之怒（追擊）",cost:5,casting:5,atk:2435,modLv:2.85,range:"middle"},{name:"野性吉米杖",cost:4,casting:4,grade:3,atk:480,atkType:"heal",modLv:"F",range:"middle"},{name:"泳裝吉米杖",cost:7,casting:4,grade:4,atk:180,modLv:"C",range:"small",lightning:{modeLv:.465,modType:"int",time:3}},{name:"高級魔法凝聚",cost:5,grade:4,buff:[{bonus:25,times:1}],range:"single"},{name:"絕對零度",cost:8,casting:7,grade:4,atk:226,modLv:"S",water:{atk:1500,time:6},range:"middle"},{name:"破邪法杖",cost:6,grade:3,atk:250,modLv:"A",range:"single"},{name:"草莓刨冰",cost:2,grade:4,atk:200,modLv:"F",targetBuff:[{waterInjuryBonus:15,times:999}],range:"single"},{name:"高效魔力轉換裝置",cost:8,casting:7,grade:3,atk:1650,modLv:"SS",range:"nearSmall"},{name:"純白之權杖",cost:7,casting:5,grade:3,atk:300,modLv:"C",bonus:80,range:"small"},{name:"邪龍煉獄黑王杖",cost:7,casting:6,atk:200,modLv:"S",fire:{modLv:1.6,modType:"int",time:6},range:"middle"},{name:"凍凍吉米杖",cost:7,casting:6,atk:0,modLv:"S",water:{modLv:"D0",modType:"int",time:5},range:"middle"},{name:"流水法杖",cost:6,casting:4,grade:3,atk:0,atkType:"water",modLv:"B",modType:"int",range:"small"},{name:"高壓閃電",cost:8,casting:5,grade:4,atk:1250,modLv:"SS",lightning:{atk:250,time:10},range:"small"},{name:"衛兵法杖",cost:10,casting:7,grade:4,atk:742,modLv:"A",range:"middle"},{name:"群鯊使者",cost:7,casting:4,grade:4,atk:160,modLv:"D",range:"small",water:{atk:160,modLv:"D",modType:"int",time:0}},{name:"尤里走路",cost:2,grade:1,atk:900,range:"middle"},{name:"奧義（莉伊）",cost:10,casting:10,atk:952,modLv:"S0",range:"large"},{name:"奧義（奧蘿菈）",cost:7,casting:7,atk:500,modLv:"SS",range:"middle",water:{atk:4e3,time:6}},{name:"奧義（奧蘿菈）（冰）",cost:7,casting:7,atk:500,modLv:"SS",atkType:"water",range:"middle",water:{atk:4e3,time:6}},{name:"奧義（歌莉雅）",cost:6,casting:6,atk:1045,modLv:"A0",fire:{atk:1250,time:5},range:"large"},{name:"奧義（歌莉雅）（地型）",cost:6,casting:6,atk:1045,modLv:"A0",fire:{atk:3050,time:20}},{name:"奧義（新年莉伊）（煙花彈）",cost:10,casting:1,atk:600,modLv:"Ex0",range:"large",bonus:300},{name:"奧義（新年莉伊）",cost:10,casting:10,atk:600,modLv:"Ex0",range:"large"},{name:"奧義（西比拉）",cost:6,casting:6,atk:1450,modLv:"SS0",range:"middle"},{name:"專武（歌莉雅）",cost:5,atk:399,modLv:"D",range:"middle",fire:{atk:750,time:5}},{name:"專武（奧蘿菈）",cost:7,casting:7,atk:100,modLv:"B",range:"large",water:{atk:2800,time:7}},{name:"專武（聖誕梅米）",cost:8,casting:6,atk:300,modLv:"S",range:"large"},{name:"專武（新年莉伊）",cost:6,casting:6,atk:166,modLv:"SS",range:"large",bonus:30},{name:"專武（蒙妮卡）",cost:3,atk:225,atkType:"lightning",modLv:"F",range:"nearLarge",bonus:30},{name:"專武（西比拉）",cost:7,casting:7,atk:1e3,modLv:"SSS",range:"large"}];_t.forEach((t=>{t.modType=t.modType||"int",t.atkType=t.atkType||"magic"}));const Ft=[...At,...t,...Et,..._t],Dt=Ft.filter((t=>t.buff&&!t.modLv&&!t.atk)),qt=Ft.filter((t=>t.lightning?.time));return{a:_t,b:At,i:function(t,e){return new Ct({target:document.body,props:{weapons:[...new Set([...t,...Dt])],lightningWeapons:qt,storeKey:e}})},s:t,w:Et}}();
//# sourceMappingURL=init-3f7f7fba.js.map
