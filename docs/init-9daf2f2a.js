var init9Daf2F2A=function(){"use strict";var t=[{name:"加護之劍",cost:3,grade:1,buff:[{atk:250,times:1}]},{name:"小曲刀",cost:2,grade:1,buff:[{atk:50,times:99}],stance:{gain:1}},{name:"平衡劍",cost:3,grade:2,atk:440,modLv:"D",stance:{gain:1}},{name:"騎士長劍",cost:4,grade:2,atk:250,modLv:"B",stance:{use:1,gain:2,bonus:50}},{name:"盜賊短劍",cost:2,grade:2,atk:300,modLv:"E",stance:{gain:1}},{name:"突襲彎刀",cost:4,grade:2,atk:570,modLv:"D"},{name:"神聖之劍",cost:2,grade:2,buff:[{atk:280,times:1}]},{name:"引燃火劍",cost:3,grade:2,atk:140,modLv:"C",fire:{cond:t=>t.fire,atk:520}},{name:"致毒曲刀",cost:4,grade:2,atk:300,modLv:"C",poison:{cond:t=>t.poison.length,atk:1100,turn:2}},{name:"火羽骸蝶",cost:4,grade:4,atk:510,modLv:"A",fire:{atk:400,time:5}},{name:"重鐵",cost:5,grade:2,atk:480,modLv:"A",collision:1},{name:"狼牙大劍",cost:5,grade:3,atk:200,modLv:"S",stance:{use:2,gain:0,bonus:60},collision:1},{name:"搗蛋南瓜君",cost:3,grade:3,atk:305,modLv:"E",stance:{use:1,gain:2},poison:{cond:t=>1===t.stance,atk:750,turn:1}},{name:"舞台禮劍",cost:4,grade:3,atk:30,modLv:"A"},{name:"舞台禮劍（降攻）",cost:4,grade:3,atk:30,modLv:"A",bonus:50},{name:"星光蟹王輕劍",cost:7,grade:3,atk:500,modLv:"A"},{name:"大馬達碧綠結他",cost:3,grade:3,atk:500,stance:{gain:1}},{name:"大馬達碧綠結他（一架）",cost:1,grade:3,atk:500,stance:{gain:1}},{name:"海上衛士",cost:2,atk:20,atkType:"heal",modLv:"G",modType:"int",stance:{gain:1}},{name:"閃燃焰劍",cost:4,grade:3,atk:330,modLv:"B",fire:{cond:t=>t.fire,atk:900}},{name:"追擊彎刀",cost:4,grade:3,atk:500,modLv:"C",stance:{use:1,gain:2,bonus:40}},{name:"受祝福的聖樹樹枝",cost:4,grade:3,atk:420,modLv:"B"},{name:"飛翼結晶劍",cost:4,atk:800,modLv:"C",stance:{gain:1}},{name:"報紙卷+12",cost:2,atk:200,modLv:"D"},{name:"俠盜短劍",cost:1,grade:3,atk:620,stance:{gain:1}},{name:"教堂禮劍",cost:3,grade:3,buff:[{atk:480,times:1}],stance:{gain:1}},{name:"破冰刀",cost:6,grade:3,atk:450,modLv:"S",beforeWeapon:t=>{t.freeze&&(t.buff.push({bonus:25,times:1}),t.freeze=!1)}},{name:"猛毒曲刀",cost:4,grade:3,atk:200,modLv:"B",poison:{cond:t=>t.poison.length,atk:1440,turn:2}},{name:"巨型西瓜冰棒",cost:4,grade:4,atk:50,modLv:"S"},{name:"巨型西瓜冰棒（凍結）",cost:4,grade:4,water:{atk:50,modLv:"S",modType:"atk",bonus:10}},{name:"動力能量劍",cost:4,grade:3,atk:950,modLv:"D",stance:{use:2,gain:0,bonus:80}},{name:"彩虹的指揮棒",cost:2,grade:3,atk:100,modLv:"E",buff:[{atk:300,times:99}]},{name:"閃電萬雷大軍刀",cost:5,grade:4,atk:500,modLv:"B"},{name:"閃電萬雷大軍刀（觸電）",cost:5,casting:3,grade:4,atk:500,atkType:"lightning",modLv:"B"},{name:"狂熱之聲",cost:2,grade:4,atk:300,modLv:"F",stance:{gain:1}},{name:"狂熱之聲．第二樂章",cost:3,grade:4,atk:380,modLv:"E",stance:{use:1,gain:2,bonus:30}},{name:"狂熱之聲．最終樂章",cost:4,grade:4,atk:450,modLv:"C",stance:{use:2,bonus:50}},{name:"赤嵐利牙",cost:6,grade:3,atk:600,modLv:"A",stance:{use:2}},{name:"赤嵐利牙（背）",cost:6,grade:3,atk:600,modLv:"A",stance:{use:2},bonus:60},{name:"赤嵐利牙（背）（二架）",cost:4,grade:3,atk:600,modLv:"A",stance:{use:2},bonus:60},{name:"赤嵐利牙（二架）",cost:4,grade:3,atk:600,modLv:"A",stance:{use:2}},{name:"爆燃殆盡",cost:3,grade:4,atk:70,modLv:"C",fire:{cond:t=>t.fire,atk:880}},{name:"劇毒蟲皇",cost:4,grade:4,atk:200,modLv:"B",poison:{cond:t=>t.poison.length,atk:1800,turn:3}},{name:"暗殺者之劍",cost:3,grade:3,atk:660,modLv:"E",stance:{gain:1}},{name:"暗殺者之劍（背）",cost:3,grade:3,atk:660,modLv:"E",stance:{gain:1},bonus:50},{name:"海盜彎刀",cost:3,grade:3,atk:460,modLv:"D",stance:{gain:1}},{name:"結晶神聖劍",cost:4,grade:4,buff:[{atk:400,times:1}],stance:{use:1,gain:2,buff:[{atk:300,times:1}]}},{name:"破滅寒冰",cost:4,grade:4,atk:420,modLv:"A"},{name:"破滅寒冰（凍結）",cost:4,grade:4,atk:420,atkType:"water",modLv:"A"},{name:"巨鯨之息",cost:5,grade:3,atk:233,atkType:"heal",modLv:"E",modType:"int"},{name:"巨鯨之息（一式）",cost:4,grade:3,atk:233,atkType:"heal",modLv:"E",modType:"int",stance:{gain:2}},{name:"高周波切割分解器",cost:3,grade:4,atk:930,modLv:"E",stance:{use:1,gain:2,bonus:30}},{name:"重騎兵之劍",cost:5,grade:4,atk:380,modLv:"S"},{name:"重騎兵之劍（防守）",cost:5,grade:4,atk:380,modLv:"S",bonus:40},{name:"海鯊大劍",cost:7,grade:4,atk:777,modLv:"SS",stance:{use:2,bonus:50}},{name:"大商會特製杖中劍",cost:2,grade:3,atk:262,modLv:"F",stance:{gain:1}},{name:"奧義（夏洛蒂）",cost:5,atk:2022,modLv:"Ex0"},{name:"奧義（夏洛蒂氣球）",cost:2,atk:0,atkType:"magic",modLv:"C0",modType:"int",hit:2},{name:"奧義（夏洛蒂圖騰）（單次）",cost:0,atk:700,atkType:"fire"},{name:"奧義（克萊拉）",cost:5,atkType:"physic",getAtk:t=>1500+1.35*t.getBuffedStat("atk")+1*t.getBuffedStat("selfDef"),hit:1,collision:1}];function e(){}function n(t){return t()}function a(){return Object.create(null)}function s(t){t.forEach(n)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(t,n,a){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const a=t.subscribe(...n);return a.unsubscribe?()=>a.unsubscribe():a}(n,a))}function m(t,e,n){return t.set(n),e}function c(t,e){t.appendChild(e)}function d(t,e,n){t.insertBefore(e,n||null)}function g(t){t.parentNode.removeChild(t)}function l(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function u(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function p(){return f(" ")}function k(t,e,n,a){return t.addEventListener(e,n,a),()=>t.removeEventListener(e,n,a)}function h(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function v(t){return""===t?null:+t}function y(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function b(t,e){t.value=null==e?"":e}function L(t,e){for(let n=0;n<t.options.length;n+=1){const a=t.options[n];if(a.__value===e)return void(a.selected=!0)}t.selectedIndex=-1}function T(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function x(t,e,n){t.classList[n?"add":"remove"](e)}let $;function w(t){$=t}const R=[],B=[],C=[],S=[],_=Promise.resolve();let A=!1;function E(t){C.push(t)}function D(t){S.push(t)}const F=new Set;let q=0;function W(){const t=$;do{for(;q<R.length;){const t=R[q];q++,w(t),M(t.$$)}for(w(null),R.length=0,q=0;B.length;)B.pop()();for(let t=0;t<C.length;t+=1){const e=C[t];F.has(e)||(F.add(e),e())}C.length=0}while(R.length);for(;S.length;)S.pop()();A=!1,F.clear(),w(t)}function M(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(E)}}const j=new Set;function I(t,e){t&&t.i&&(j.delete(t),t.i(e))}function H(t,e,n,a){if(t&&t.o){if(j.has(t))return;j.add(t),undefined.c.push((()=>{j.delete(t),a&&(n&&t.d(1),a())})),t.o(e)}else a&&a()}function z(t,e,n){const a=t.$$.props[e];void 0!==a&&(t.$$.bound[a]=n,n(t.$$.ctx[a]))}function O(t){t&&t.c()}function P(t,e,a,i){const{fragment:r,on_mount:m,on_destroy:c,after_update:d}=t.$$;r&&r.m(e,a),i||E((()=>{const e=m.map(n).filter(o);c?c.push(...e):s(e),t.$$.on_mount=[]})),d.forEach(E)}function K(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function N(t,e){-1===t.$$.dirty[0]&&(R.push(t),A||(A=!0,_.then(W)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function G(t,n,o,i,r,m,c,d=[-1]){const l=$;w(t);const u=t.$$={fragment:null,ctx:null,props:m,update:e,not_equal:r,bound:a(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(l?l.$$.context:[])),callbacks:a(),dirty:d,skip_bound:!1,root:n.target||l.$$.root};c&&c(u.root);let f=!1;if(u.ctx=o?o(t,n.props||{},((e,n,...a)=>{const s=a.length?a[0]:n;return u.ctx&&r(u.ctx[e],u.ctx[e]=s)&&(!u.skip_bound&&u.bound[e]&&u.bound[e](s),f&&N(t,e)),n})):[],u.update(),f=!0,s(u.before_update),u.fragment=!!i&&i(u.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);u.fragment&&u.fragment.l(t),t.forEach(g)}else u.fragment&&u.fragment.c();n.intro&&I(t.$$.fragment),P(t,n.target,n.anchor,n.customElement),W()}w(l)}class J{$destroy(){K(this,1),this.$destroy=e}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Z(t){let n,a,s,o;return{c(){n=u("button"),a=f(t[2]),h(n,"class","svelte-19loasr"),x(n,"sorted",t[0].field===t[1]),x(n,"reversed",t[0].dir<0)},m(e,i){d(e,n,i),c(n,a),s||(o=k(n,"click",t[3]),s=!0)},p(t,[e]){4&e&&y(a,t[2]),3&e&&x(n,"sorted",t[0].field===t[1]),1&e&&x(n,"reversed",t[0].dir<0)},i:e,o:e,d(t){t&&g(n),s=!1,o()}}}function Q(t,e,n){let{method:a,field:s,text:o}=e;return t.$$set=t=>{"method"in t&&n(0,a=t.method),"field"in t&&n(1,s=t.field),"text"in t&&n(2,o=t.text)},[a,s,o,function(){a.field!==s?(n(0,a.field=s,a),n(0,a.dir=1,a)):n(0,a.dir*=-1,a)}]}class U extends J{constructor(t){super(),G(this,t,Q,Z,i,{method:0,field:1,text:2})}}const V=location.pathname.match(/([^/.]*)(\.html)?$/),X=V[1]&&"index"!==V[1]?V[1]:"sword";function Y(t){let n,a,s,o,i,r,m,l;return{c(){n=u("ul"),a=u("li"),a.innerHTML='<a href="." class="svelte-116mxxw">劍</a>',s=p(),o=u("li"),o.innerHTML='<a href="bow.html" class="svelte-116mxxw">弓</a>',i=p(),r=u("li"),r.innerHTML='<a href="wand.html" class="svelte-116mxxw">杖</a>',m=p(),l=u("li"),l.innerHTML='<a href="tome.html" class="svelte-116mxxw">書</a>',h(a,"class","svelte-116mxxw"),x(a,"active","sword"===X),h(o,"class","svelte-116mxxw"),x(o,"active","bow"===X),h(r,"class","svelte-116mxxw"),x(r,"active","wand"===X),h(l,"class","svelte-116mxxw"),x(l,"active","tome"===X),h(n,"class","svelte-116mxxw")},m(t,e){d(t,n,e),c(n,a),c(n,s),c(n,o),c(n,i),c(n,r),c(n,m),c(n,l)},p:e,i:e,o:e,d(t){t&&g(n)}}}class tt extends J{constructor(t){super(),G(this,t,null,Y,i,{})}}const et=[];const nt="zoldout-damage-calculator",at=new Map;function st(t,n){if(at.has(t))return at.get(t);const a=function(t,n=e){let a;const s=new Set;function o(e){if(i(t,e)&&(t=e,a)){const e=!et.length;for(const e of s)e[1](),et.push(e,t);if(e){for(let t=0;t<et.length;t+=2)et[t][0](et[t+1]);et.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(i,r=e){const m=[i,r];return s.add(m),1===s.size&&(a=n(o)||e),i(t),()=>{s.delete(m),0===s.size&&(a(),a=null)}}}}(function(t){try{return JSON.parse(t)}catch{}}(localStorage.getItem(`${nt}/${t}`))??n);return a.subscribe((e=>localStorage.setItem(`${nt}/${t}`,JSON.stringify(e)))),at.set(t,a),a}var ot=[{name:"攻擊力增加（維羅尼卡）",type:"sword",beforeAll:t=>{t.buff.push({bonus:20,times:99})}},{name:"攻擊力增加（夏洛蒂）",type:"sword",beforeAll:t=>{t.buff.push({bonus:45,times:99})}},{name:"碰撞傷害（克萊拉）",type:"buff",afterWeapon:t=>{t.damage+=700*t.collision}},{name:"攻擊後反擊四次（奧布利）",type:"sword",afterWeapon:t=>{if(!t.oblyPassive&&t.hit){const e=t.clone({oblyPassive:!0});e.processWeapon({name:"反擊",cost:0,atk:0,modLv:1.45,hit:4}),t.damage+=e.damage}}},{name:"傷害後攻擊增加（艾莉諾拉）",type:"bow",afterHit:t=>{t.buff.push({bonus:5,times:99})}},{name:"第2+次傷害攻擊機率增加（艾莉諾拉）",type:"bow",afterHit:t=>{1===t.totalHit&&t.buff.push({bonus:21,times:99})}},{name:"使用武器後中毒（格蕾絲）",type:"bow",afterWeapon:(t,e)=>{t.hit&&!e.name.includes("奧義")&&t.poison.push({atk:300,turn:2,bonus:0})}},{name:"製造虛影（菲恩）",type:"bow",beforeAll:t=>{t.moves=0,t.isShadow=!1},afterWeapon:(t,e)=>{if("移動"===e.name)return void t.moves++;if(t.isShadow)return;let{atk:n,buff:a,cost:s,damage:o}=t;t.isShadow=!0,t.atk=1047,t.buff=[];for(let n=0;n<t.moves;n++)t.processWeapon(e),o+=t.damage;t.atk=n,t.buff=a,t.cost=s,t.isShadow=!1,t.damage=o}},{name:"使用武器後擊退（莎菈/約瑟芬/薇薇安）",type:"buff",beforeWeapon:t=>{t.collision++}},{name:"傷害後點燃或額外傷害（艾娜）",type:"bow",afterHit:t=>{t.fire?t.damage+=360*t.getFireResist():(t.fire=!0,t.damage+=540*t.getFireResist())}},{name:"凍結時增加水傷（奧蘿菈）",type:"buff",beforeWeapon:t=>{let e=t.targetBuff.find((t=>"arora"===t.id));e||(e={id:"arora",times:999},t.targetBuff.push(e)),e.waterInjuryBonus=t.freeze?30:0}},{name:"使用火武器後加速（歌莉雅）",type:"wand",afterWeapon:(t,e)=>{e.fire?.time&&(t.cost-=2)}},{name:"著火時增傷、減抗（歌莉雅）",type:"buff",beforeHit:t=>{let e=t.targetBuff.find((t=>"goriya1"===t.id));e||(e={id:"goriya1",times:99},t.targetBuff.push(e)),e.injuryBonus=t.fire?10:0,e.fireResist=t.fire?-10:0}},{name:"大範圍武器加速、攻擊增加（聖樹梅米）",type:"wand",beforeWeapon:(t,e)=>{"large"===e.range&&(t.cost-=1,t.hit&&t.buff.push({bonus:10,times:1}))}},{name:"打星（納蒂雅）",type:"buff",beforeWeapon:(t,e)=>{e.atkType&&"physic"!==e.atkType||(t.oldTarget=t.getTarget(),t.setTarget({def:0,mdef:0,waterResist:100,fireResist:100,poisonResist:100,lightningResist:100,targetBuff:[]}))},afterWeapon:(t,e)=>{if(e.atkType&&"physic"!==e.atkType)return;const n=t.clone({buff:t.buff.map((t=>({...t}))).filter((t=>t.finalBonus)),targetBuff:t.oldTarget.targetBuff});n.setTarget(t.oldTarget),n.processWeapon({atk:1.2*n.damage,atkType:"magic"}),t.damage=n.damage,t.setTarget(t.oldTarget)}},{name:"物理傷害增加一次（納蒂雅）",type:"buff",beforeAll:t=>{t.buff.push({physicBonus:15,times:1})}},{name:"額外傷害（尤里+泳裝伊蓮）",type:"wand",afterWeapon:(t,e)=>{e.water&&(t.damage+=2*(900-t.getDef({atkType:"magic"})))}},{name:"魔攻增加（西比拉）",type:"wand",beforeWeapon:(t,e)=>{e.casting>=6&&t.hit&&t.buff.push({bonus:25,times:1})}},{name:"水武器智力增加（泳裝伊蓮）",type:"buff",beforeWeapon:(t,e)=>{(e.water||"water"===e.atkType)&&t.buff.push({int:300,times:1,id:"swimElinInt"})},afterWeapon:t=>{const e=t.buff.findIndex((t=>"swimElinInt"===t.id));e>=0&&t.buff.splice(e,1)}},{name:"水傷增加（泳裝伊蓮奧義）",type:"buff",beforeAll:t=>{t.targetBuff.push({id:"swimElin",waterInjuryBonus:40,times:99})}},{name:"生命回復（塔尼亞）",type:"tome",afterWeapon:(t,e)=>{t.hit&&"heal"!==e.atkType||(t.damage+=360)}},{name:"加速（塔尼亞）",type:"tome",afterWeapon:(t,e)=>{(!t.hit&&e.buff||"heal"===e.atkType)&&t.cost--}}];const it={G:.6,F:.85,E:1.1,D:1.35,C:1.6,B:1.85,A:2.1,S:2.35,SS:2.6,SSS:2.85,Ex:3.1};for(const t in it)it[`${t}0`]=it[t]-.1;class rt{constructor({hp:t,atk:e,int:n,selfDef:a=1e3,selfMdef:s=500,def:o,mdef:i,fireResist:r,waterResist:m,poisonResist:c,lightningResist:d,fire:g=!1,freeze:l=!1,poison:u=!1,lightning:f=!1,poisonTurns:p,lightningAtk:k,stance:h=0,maxTargets:v=1,passive:y,buff:b=[]}){this.atk=e,this.int=n,this.selfDef=a,this.selfMdef=s,this.hp=t,this.def=o,this.mdef=i,this.fireResist=r,this.waterResist=m,this.poisonResist=c,this.lightningResist=d,this.poisonTurns=p,this.maxTargets=v,this.passive=y,this.damage=0,this.hit=0,this.totalHit=0,this.stance=h,this.buff=b.slice(),this.targetBuff=[],this.targets=0,this.collision=0,this.poison=u?[{atk:0,turn:99}]:[],this.lightning=f?{atk:k,time:99}:{},this.fire=g,this.freeze=l}clone(t={}){const e=new rt({});return Object.assign(e,this,t),e}getBuffedStat(t,e="stack"){return"stack"===e?(this[t]||0)+this.buff.reduce(((e,n)=>e+(n[t]||0)),0):(this[t]||1)*this.buff.reduce(((e,n)=>e*(1+(n[t]||0)/100)),1)}getDef(t){return ct(this,t)}_getResist(t,e,n){return(1-(this[t]?this[t]+this.targetBuff.reduce(((e,n)=>e+(n[t]||0)),0):0)/100)*this.buff.reduce(((t,n)=>t*(1+(n[e]||0)/100)),1)*this.targetBuff.reduce(((t,e)=>t*(1+(e[n]||0)/100)),1)}getFireResist(){return this._getResist("fireResist","fireBonus","fireInjuryBonus")}getWaterResist(){return this._getResist("waterResist","waterBonus","waterInjuryBonus")}getPoisonResist(){return this._getResist("poisonResist","poisonBonus","poisonInjuryBonus")}getLightningResist(){return this._getResist("lightningResist","lightningBonus","lightningInjuryBonus")}getInjuryBonus(){return(this.targetBuff.reduce(((t,e)=>t+(e.injuryBonus||0)),0)+100)/100}getWaterAtk(t){return dt(this,t)}getFireAtk(t){return dt(this,t)}getLightningAtk(t){return dt(this,t)}getPoisonAtk(t){return dt(this,t)}processWeapon(t){return ut(this,t)}getFinalBonus(){return this.buff.reduce(((t,e)=>t*(1+(e.finalBonus||0)/100)),1)}getTarget(){return{hp:this.hp,mdef:this.mdef,def:this.def,waterResist:this.waterResist,fireResist:this.fireResist,poisonResist:this.poisonResist,lightningResist:this.lightningResist,targetBuff:this.targetBuff}}setTarget(t){Object.assign(this,t)}}function mt({weapons:t,passiveIds:e,...n}){const a=ot.filter(((t,n)=>e.includes(n))),s=[],o=new rt({...n,passive:a});lt(o,null,"beforeAll");for(const e of t){const t=pt(o,e);s.push(t)}const i=s.reduce(((t,e)=>t+e.damage),0),r=s.reduce(((t,e)=>t+e.cost),0);return{stages:s,summary:{damage:i,cost:r,executeCost:Math.ceil(o.hp/i)*r,cp:i/r}}}function ct({def:t,mdef:e,targetBuff:n},{atkType:a}){return"heal"===a||"water"===a||"fire"===a||"poison"===a||"lightning"===a?0:"magic"===a?Math.max(e+n.reduce(((t,e)=>t+(e.mdef||0)),0),0):Math.max(t+n.reduce(((t,e)=>t+(e.def||0)),0),0)}function dt({atk:t,int:e,buff:n},{modType:a,modLv:s,atk:o=0,bonus:i=0}){const r="int"===a?e+n.reduce(((t,e)=>t+(e.int||0)),0):t+n.reduce(((t,e)=>t+(e.atk||0)),0);return(o+(s?r*function(t){if("number"==typeof t)return t;if(it[t])return it[t];throw new Error(`unknown modLv: ${t}`)}(s):0))*(i+100)/100}function gt(t){let e=0;for(const n of t.poison)n.atk&&(e+=n.atk*Math.min(n.turn,t.poisonTurns)/n.turn*t.getPoisonResist());return e*t.getFinalBonus()}function lt(t,e,n){t.passive.forEach((a=>a[n]?.(t,e))),e?.[n]?.(t,e)}function ut(t,e){t.cost=e.casting||e.cost,t.hit=e.hit||(e.atk||e.modLv?1:0),t.damage=0,t.targets=Math.min(t.maxTargets,e.targets||1),t.collision=e.collision||0,lt(t,e,"beforeWeapon");const n=ct(t,e),a=function(t,{atkType:e}){return"fire"===e?t.getFireResist():"water"===e?t.getWaterResist():"poison"===e?t.getPoisonResist():"lightning"===e?t.getLightningResist():"magic"===e?t._getResist(null,"magicBonus","magicInjuryBonus"):t._getResist(null,"physicBonus","physicInjuryBonus")}(t,e);for(let s=0;s<t.hit;s++){lt(t,e,"beforeHit"),t.currentHit=s+1,t.totalHit++;let o=e.getAtk?e.getAtk(t):dt(t,e);o*=t.buff.reduce(((t,e)=>t*(e.bonus?(e.bonus+100)/100:1)),1),e.stance?.use===t.stance&&(o*=((e.stance.bonus||0)+100)/100),o*=t.getFinalBonus(),t.damage+=Math.max(o-n,1)*a*t.getInjuryBonus()*t.targets,t.lightning?.atk&&(t.damage+=t.lightning.atk*(100-t.lightningResist)/100*t.targets),lt(t,e,"afterHit")}if(t.hit&&(t.buff=t.buff.map((t=>({...t,times:t.times-1}))).filter((t=>t.times>0)),t.targetBuff=t.targetBuff.map((t=>({...t,times:t.times-1}))).filter((t=>t.times>0))),e.trap){const n=t.clone({passive:[],buff:t.buff.filter((t=>t.finalBonus)).map((t=>({...t})))});n.processWeapon(e.trap),t.damage+=n.damage}if(!e.fire||e.fire.cond&&!e.fire.cond(t)||(t.damage+=t.getFireAtk(e.fire)*t.getFireResist()*t.targets*t.getFinalBonus(),e.fire.time&&(t.fire=!0)),!e.water||e.water.cond&&!e.water.cond(t)||(t.damage+=t.getWaterAtk(e.water)*t.getWaterResist()*t.targets*t.getFinalBonus(),e.water.time&&(t.freeze=!0)),e.lightning&&(!e.lightning.cond||e.lightning.cond(t))){const n=t.getLightningAtk(e.lightning);t.damage+=n*t.getLightningResist()*t.targets*t.getFinalBonus(),e.lightning.time>(t.lightning.time||0)&&(t.lightning.time=e.lightning.time),n>(t.lightning.atk||0)&&(t.lightning.atk=n)}if(e.poison&&(!e.poison.cond||e.poison.cond(t))){for(let n=0;n<t.targets;n++)t.poison.push({atk:t.getPoisonAtk(e.poison),turn:e.poison.turn,bonus:0});e.poison.bonus&&(t.poison=t.poison.map((t=>{const n=(t.bonus+100)*(e.poison.bonus+100)/100-100;return{...t,bonus:Math.min(n,200)}})))}e.buff&&ft(t.buff,e.buff),e.targetBuff&&ft(t.targetBuff,e.targetBuff),e.stance?.use===t.stance&&e.stance.buff&&ft(t.buff,e.stance.buff),null!=e.stance?.gain&&(t.stance=e.stance.gain),lt(t,e,"afterWeapon")}function ft(t,e){const n=new Map(t.map(((t,e)=>[t.id,e])));for(const a of e)a.id&&n.has(a.id)?t[n.get(a.id)]=a:t.push(a)}function pt(t,e){const n=gt(t);return ut(t,e),t.damage+=gt(t)-n,{damage:t.damage,cost:t.cost}}var kt=[{name:"星光帝王蟹",def:999999,mdef:999999,fireResist:-100,waterResist:99,poisonResist:99,lightningResist:-100},{name:"利文",def:197,mdef:355,fireResist:50,waterResist:30,poisonResist:60,lightningResist:70},{name:"腐朽魔像",def:431,mdef:180,fireResist:50,waterResist:80,poisonResist:99,lightningResist:-40},{name:"雪人王",def:319,mdef:319,hp:68886,fireResist:-30,waterResist:0,poisonResist:-42,lightningResist:50},{name:"黃昏雲團",def:189,mdef:304,fireResist:75,waterResist:50,poisonResist:50,lightningResist:75},{name:"火鷹族勇士",def:229,mdef:465,fireResist:100,waterResist:-100,poisonResist:75,lightningResist:40},{name:"坑道地蛛",def:131,mdef:981,fireResist:70,waterResist:90,poisonResist:20,lightningResist:80},{name:"赫黑狼人",def:758,mdef:915,fireResist:70,waterResist:20,poisonResist:50,lightningResist:30},{name:"霧影蛇龍",def:385,mdef:1049,fireResist:30,waterResist:80,poisonResist:-30,lightningResist:40}];function ht(t,e,n){const a=t.slice();return a[93]=e[n],a}function vt(t,e,n){const a=t.slice();return a[96]=e[n],a[97]=e,a[98]=n,a}function yt(t,e,n){const a=t.slice();return a[99]=e[n],a}function bt(t,e,n){const a=t.slice();return a[102]=e[n],a[98]=n,a}function Lt(t,e,n){const a=t.slice();return a[104]=e[n],a}function Tt(t){let n,a,s=t[104].name+"";return{c(){n=u("option"),a=f(s),n.__value=t[104],n.value=n.__value},m(t,e){d(t,n,e),c(n,a)},p:e,d(t){t&&g(n)}}}function xt(t){let e,n=(X===t[102].type||"buff"===t[102].type)&&function(t){let e,n,a,s,o,i,r,m,l=t[102].name+"";return{c(){e=u("label"),n=u("input"),a=p(),s=u("span"),o=f(l),i=p(),h(n,"type","checkbox"),n.__value=t[98],n.value=n.__value,t[80][0].push(n),h(e,"class","cspan svelte-yq4ypk")},m(g,l){d(g,e,l),c(e,n),n.checked=~t[12].indexOf(n.__value),c(e,a),c(e,s),c(s,o),c(e,i),r||(m=k(n,"change",t[79]),r=!0)},p(t,e){4096&e[0]&&(n.checked=~t[12].indexOf(n.__value))},d(a){a&&g(e),t[80][0].splice(t[80][0].indexOf(n),1),r=!1,m()}}}(t);return{c(){n&&n.c(),e=f("")},m(t,a){n&&n.m(t,a),d(t,e,a)},p(t,e){X!==t[102].type&&"buff"!==t[102].type||n.p(t,e)},d(t){n&&n.d(t),t&&g(e)}}}function $t(t){let e,n,a,s=t[99].name+"";return{c(){e=u("option"),n=f(s),e.__value=a=t[99],e.value=e.__value},m(t,a){d(t,e,a),c(e,n)},p(t,o){1&o[0]&&s!==(s=t[99].name+"")&&y(n,s),1&o[0]&&a!==(a=t[99])&&(e.__value=a,e.value=e.__value)},d(t){t&&g(e)}}}function wt(t){let e,n,a,o,i,r,m,v,b,T,x,$,w,R,B,C,S,_,A,D,F,q=t[2].stages[t[98]]?.cost+"",W=t[2].stages[t[98]]?.damage.toFixed(0)+"",M=((t[2].stages[t[98]]?.damage||0)/t[2].stages[t[98]]?.cost).toFixed(0)+"",j=t[0],I=[];for(let e=0;e<j.length;e+=1)I[e]=$t(yt(t,j,e));function H(){t[81].call(e,t[97],t[98])}function z(){return t[82](t[98])}function O(){return t[83](t[98])}function P(){return t[84](t[98])}function K(){return t[85](t[98])}return{c(){e=u("select");for(let t=0;t<I.length;t+=1)I[t].c();n=p(),a=u("span"),o=f(q),i=p(),r=u("span"),m=f(W),v=p(),b=u("span"),T=f(M),x=p(),$=u("div"),w=u("button"),w.textContent="↑",R=p(),B=u("button"),B.textContent="↓",C=p(),S=u("button"),S.textContent="⎘",_=p(),A=u("button"),A.textContent="x",h(e,"class","svelte-yq4ypk"),void 0===t[96]&&E(H),h(a,"class","svelte-yq4ypk"),h(r,"class","svelte-yq4ypk"),h(b,"class","svelte-yq4ypk"),h($,"class","operation svelte-yq4ypk")},m(s,g){d(s,e,g);for(let t=0;t<I.length;t+=1)I[t].m(e,null);L(e,t[96]),d(s,n,g),d(s,a,g),c(a,o),d(s,i,g),d(s,r,g),c(r,m),d(s,v,g),d(s,b,g),c(b,T),d(s,x,g),d(s,$,g),c($,w),c($,R),c($,B),c($,C),c($,S),c($,_),c($,A),D||(F=[k(e,"change",H),k(w,"click",z),k(B,"click",O),k(S,"click",P),k(A,"click",K)],D=!0)},p(n,a){if(t=n,1&a[0]){let n;for(j=t[0],n=0;n<j.length;n+=1){const s=yt(t,j,n);I[n]?I[n].p(s,a):(I[n]=$t(s),I[n].c(),I[n].m(e,null))}for(;n<I.length;n+=1)I[n].d(1);I.length=j.length}3&a[0]&&L(e,t[96]),4&a[0]&&q!==(q=t[2].stages[t[98]]?.cost+"")&&y(o,q),4&a[0]&&W!==(W=t[2].stages[t[98]]?.damage.toFixed(0)+"")&&y(m,W),4&a[0]&&M!==(M=((t[2].stages[t[98]]?.damage||0)/t[2].stages[t[98]]?.cost).toFixed(0)+"")&&y(T,M)},d(t){t&&g(e),l(I,t),t&&g(n),t&&g(a),t&&g(i),t&&g(r),t&&g(v),t&&g(b),t&&g(x),t&&g($),D=!1,s(F)}}}function Rt(t){let e,n,a,s,o,i,r,m,l,v,b,L,T,x,$,w,R,B,C=t[93].name+"",S=t[93].cost+"",_=t[93].damage.toFixed(0)+"",A=t[93].cp.toFixed(0)+"",E=t[93].executeCost+"";function D(){return t[91](t[93])}return{c(){e=u("span"),n=f(C),a=p(),s=u("span"),o=f(S),i=p(),r=u("span"),m=f(_),l=p(),v=u("span"),b=f(A),L=p(),T=u("span"),x=f(E),$=p(),w=u("button"),w.textContent="x",h(e,"class","svelte-yq4ypk"),h(s,"class","svelte-yq4ypk"),h(r,"class","svelte-yq4ypk"),h(v,"class","svelte-yq4ypk"),h(T,"class","svelte-yq4ypk"),h(w,"class","svelte-yq4ypk")},m(t,g){d(t,e,g),c(e,n),d(t,a,g),d(t,s,g),c(s,o),d(t,i,g),d(t,r,g),c(r,m),d(t,l,g),d(t,v,g),c(v,b),d(t,L,g),d(t,T,g),c(T,x),d(t,$,g),d(t,w,g),R||(B=k(w,"click",D),R=!0)},p(e,a){t=e,8&a[0]&&C!==(C=t[93].name+"")&&y(n,C),8&a[0]&&S!==(S=t[93].cost+"")&&y(o,S),8&a[0]&&_!==(_=t[93].damage.toFixed(0)+"")&&y(m,_),8&a[0]&&A!==(A=t[93].cp.toFixed(0)+"")&&y(b,A),8&a[0]&&E!==(E=t[93].executeCost+"")&&y(x,E)},d(t){t&&g(e),t&&g(a),t&&g(s),t&&g(i),t&&g(r),t&&g(l),t&&g(v),t&&g(L),t&&g(T),t&&g($),t&&g(w),R=!1,B()}}}function Bt(t){let e,n,a,o,i,r,m,T,x,$,w,R,C,S,_,A,F,q,W,M,j,N,G,J,Z,Q,V,X,Y,et,nt,at,st,it,rt,mt,ct,dt,gt,lt,ut,ft,pt,yt,$t,Bt,Ct,St,_t,At,Et,Dt,Ft,qt,Wt,Mt,jt,It,Ht,zt,Ot,Pt,Kt,Nt,Gt,Jt,Zt,Qt,Ut,Vt,Xt,Yt,te,ee,ne,ae,se,oe,ie,re,me,ce,de,ge,le,ue,fe,pe,ke,he,ve,ye,be,Le,Te,xe,$e,we,Re,Be,Ce,Se,_e,Ae,Ee,De,Fe,qe,We,Me,je,Ie,He,ze,Oe,Pe,Ke,Ne,Ge,Je,Ze,Qe,Ue,Ve,Xe,Ye,tn,en,nn,an,sn,on,rn,mn,cn,dn,gn,ln,un,fn,pn,kn,hn,vn,yn,bn,Ln,Tn=t[2].summary.cost+"",xn=t[2].summary.damage.toFixed(0)+"",$n=t[2].summary.cp.toFixed(0)+"";a=new tt({});let wn=kt,Rn=[];for(let e=0;e<wn.length;e+=1)Rn[e]=Tt(Lt(t,wn,e));let Bn=ot,Cn=[];for(let e=0;e<Bn.length;e+=1)Cn[e]=xt(bt(t,Bn,e));let Sn=t[1],_n=[];for(let e=0;e<Sn.length;e+=1)_n[e]=wt(vt(t,Sn,e));function An(e){t[86](e)}let En={field:"name",text:"Name"};function Dn(e){t[87](e)}void 0!==t[11]&&(En.method=t[11]),Ye=new U({props:En}),B.push((()=>z(Ye,"method",An)));let Fn={field:"cost",text:"Cost"};function qn(e){t[88](e)}void 0!==t[11]&&(Fn.method=t[11]),nn=new U({props:Fn}),B.push((()=>z(nn,"method",Dn)));let Wn={field:"damage",text:"Damage"};function Mn(e){t[89](e)}void 0!==t[11]&&(Wn.method=t[11]),on=new U({props:Wn}),B.push((()=>z(on,"method",qn)));let jn={field:"cp",text:"CP"};function In(e){t[90](e)}void 0!==t[11]&&(jn.method=t[11]),cn=new U({props:jn}),B.push((()=>z(cn,"method",Mn)));let Hn={field:"executeCost",text:"斬殺Cost"};void 0!==t[11]&&(Hn.method=t[11]),ln=new U({props:Hn}),B.push((()=>z(ln,"method",In)));let zn=t[3],On=[];for(let e=0;e<zn.length;e+=1)On[e]=Rt(ht(t,zn,e));return{c(){e=u("h1"),e.textContent="Zold:Out Damage Calculator",n=p(),O(a.$$.fragment),o=p(),i=u("div"),r=u("span"),r.textContent="載入預設敵人",m=p(),T=u("select");for(let t=0;t<Rn.length;t+=1)Rn[t].c();x=p(),$=u("button"),$.textContent="Apply",w=p(),R=u("div"),C=u("span"),C.textContent="血量",S=p(),_=u("input"),A=p(),F=u("span"),F.textContent="防禦",q=p(),W=u("input"),M=p(),j=u("span"),j.textContent="魔防",N=p(),G=u("input"),J=p(),Z=u("span"),Z.textContent="力量",Q=p(),V=u("input"),X=p(),Y=u("span"),Y.textContent="自身物防",et=p(),nt=u("input"),at=p(),st=u("span"),st.textContent="智力",it=p(),rt=u("input"),mt=p(),ct=u("span"),ct.textContent="自身魔防",dt=p(),gt=u("input"),lt=p(),ut=u("span"),ut.textContent="火抗",ft=p(),pt=u("input"),yt=p(),$t=u("span"),$t.textContent="水抗",Bt=p(),Ct=u("input"),St=p(),_t=u("span"),_t.textContent="毒抗",At=p(),Et=u("input"),Dt=p(),Ft=u("span"),Ft.textContent="雷抗",qt=p(),Wt=u("input"),Mt=p(),jt=u("label"),It=u("input"),Ht=p(),zt=u("span"),zt.textContent="敵人凍結",Ot=p(),Pt=u("label"),Kt=u("input"),Nt=p(),Gt=u("span"),Gt.textContent="敵人著火",Jt=p(),Zt=u("label"),Qt=u("input"),Ut=p(),Vt=u("span"),Vt.textContent="敵人中毒",Xt=p(),Yt=u("label"),te=u("input"),ee=p(),ne=u("span"),ne.textContent="敵人觸電",ae=p(),se=u("span"),se.textContent="中毒發生次數",oe=p(),ie=u("input"),re=p(),me=u("span"),me.textContent="觸電傷害",ce=p(),de=u("input"),ge=p(),le=u("span"),le.textContent="當前架勢",ue=p(),fe=u("input"),pe=p(),ke=u("span"),ke.textContent="所有攻擊力增加（排位buff）",he=p(),ve=u("input"),ye=p();for(let t=0;t<Cn.length;t+=1)Cn[t].c();be=p(),Le=u("h2"),Le.textContent="Combo",Te=p(),xe=u("div"),$e=u("span"),$e.textContent="Weapon",we=p(),Re=u("span"),Re.textContent="Cost",Be=p(),Ce=u("span"),Ce.textContent="Damage",Se=p(),_e=u("span"),_e.textContent="CP",Ae=p(),Ee=u("span"),De=p();for(let t=0;t<_n.length;t+=1)_n[t].c();Fe=p(),qe=u("span"),qe.textContent="Summary",We=p(),Me=u("span"),je=f(Tn),Ie=p(),He=u("span"),ze=f(xn),Oe=p(),Pe=u("span"),Ke=f($n),Ne=p(),Ge=u("button"),Ge.textContent="Add to compare list",Je=p(),Ze=u("h2"),Ze.textContent="Compare",Qe=p(),Ue=u("button"),Ue.textContent="Add all weapons",Ve=p(),Xe=u("div"),O(Ye.$$.fragment),en=p(),O(nn.$$.fragment),sn=p(),O(on.$$.fragment),mn=p(),O(cn.$$.fragment),gn=p(),O(ln.$$.fragment),fn=p(),pn=u("span"),kn=p();for(let t=0;t<On.length;t+=1)On[t].c();hn=p(),vn=u("footer"),vn.innerHTML='<a href="https://github.com/eight04/zoldout-damage-calculator">zoldout-damage-calculator</a>',void 0===t[25]&&E((()=>t[59].call(T))),h(i,"class","enemy-preset svelte-yq4ypk"),h(_,"type","number"),h(_,"class","cspan3 svelte-yq4ypk"),h(W,"type","number"),h(W,"class","cspan3 svelte-yq4ypk"),h(G,"type","number"),h(G,"class","cspan3 svelte-yq4ypk"),h(V,"type","number"),h(nt,"type","number"),h(rt,"type","number"),h(gt,"type","number"),h(pt,"type","number"),h(Ct,"type","number"),h(Et,"type","number"),h(Wt,"type","number"),h(It,"type","checkbox"),h(jt,"class","cspan svelte-yq4ypk"),h(Kt,"type","checkbox"),h(Pt,"class","cspan svelte-yq4ypk"),h(Qt,"type","checkbox"),h(Zt,"class","cspan svelte-yq4ypk"),h(te,"type","checkbox"),h(Yt,"class","cspan svelte-yq4ypk"),h(ie,"type","number"),h(de,"type","number"),h(fe,"type","number"),h(fe,"class","cspan3 svelte-yq4ypk"),h(ke,"class","cspan svelte-yq4ypk"),h(ve,"type","number"),h(ve,"class","cspan svelte-yq4ypk"),h(R,"class","base-info svelte-yq4ypk"),h($e,"class","chead svelte-yq4ypk"),h(Re,"class","chead svelte-yq4ypk"),h(Ce,"class","chead svelte-yq4ypk"),h(_e,"class","chead svelte-yq4ypk"),h(Ee,"class","operation svelte-yq4ypk"),h(qe,"class","chead svelte-yq4ypk"),h(Me,"class","svelte-yq4ypk"),h(He,"class","svelte-yq4ypk"),h(Pe,"class","svelte-yq4ypk"),h(xe,"class","combo-table svelte-yq4ypk"),h(pn,"class","svelte-yq4ypk"),h(Xe,"class","compare-list svelte-yq4ypk"),h(vn,"class","svelte-yq4ypk")},m(s,g){d(s,e,g),d(s,n,g),P(a,s,g),d(s,o,g),d(s,i,g),c(i,r),c(i,m),c(i,T);for(let t=0;t<Rn.length;t+=1)Rn[t].m(T,null);L(T,t[25]),c(i,x),c(i,$),d(s,w,g),d(s,R,g),c(R,C),c(R,S),c(R,_),b(_,t[10]),c(R,A),c(R,F),c(R,q),c(R,W),b(W,t[9]),c(R,M),c(R,j),c(R,N),c(R,G),b(G,t[8]),c(R,J),c(R,Z),c(R,Q),c(R,V),b(V,t[23]),c(R,X),c(R,Y),c(R,et),c(R,nt),b(nt,t[21]),c(R,at),c(R,st),c(R,it),c(R,rt),b(rt,t[22]),c(R,mt),c(R,ct),c(R,dt),c(R,gt),b(gt,t[20]),c(R,lt),c(R,ut),c(R,ft),c(R,pt),b(pt,t[7]),c(R,yt),c(R,$t),c(R,Bt),c(R,Ct),b(Ct,t[6]),c(R,St),c(R,_t),c(R,At),c(R,Et),b(Et,t[5]),c(R,Dt),c(R,Ft),c(R,qt),c(R,Wt),b(Wt,t[4]),c(R,Mt),c(R,jt),c(jt,It),It.checked=t[18],c(jt,Ht),c(jt,zt),c(R,Ot),c(R,Pt),c(Pt,Kt),Kt.checked=t[19],c(Pt,Nt),c(Pt,Gt),c(R,Jt),c(R,Zt),c(Zt,Qt),Qt.checked=t[17],c(Zt,Ut),c(Zt,Vt),c(R,Xt),c(R,Yt),c(Yt,te),te.checked=t[16],c(Yt,ee),c(Yt,ne),c(R,ae),c(R,se),c(R,oe),c(R,ie),b(ie,t[15]),c(R,re),c(R,me),c(R,ce),c(R,de),b(de,t[14]),c(R,ge),c(R,le),c(R,ue),c(R,fe),b(fe,t[13]),c(R,pe),c(R,ke),c(R,he),c(R,ve),b(ve,t[24]),c(R,ye);for(let t=0;t<Cn.length;t+=1)Cn[t].m(R,null);d(s,be,g),d(s,Le,g),d(s,Te,g),d(s,xe,g),c(xe,$e),c(xe,we),c(xe,Re),c(xe,Be),c(xe,Ce),c(xe,Se),c(xe,_e),c(xe,Ae),c(xe,Ee),c(xe,De);for(let t=0;t<_n.length;t+=1)_n[t].m(xe,null);c(xe,Fe),c(xe,qe),c(xe,We),c(xe,Me),c(Me,je),c(xe,Ie),c(xe,He),c(He,ze),c(xe,Oe),c(xe,Pe),c(Pe,Ke),d(s,Ne,g),d(s,Ge,g),d(s,Je,g),d(s,Ze,g),d(s,Qe,g),d(s,Ue,g),d(s,Ve,g),d(s,Xe,g),P(Ye,Xe,null),c(Xe,en),P(nn,Xe,null),c(Xe,sn),P(on,Xe,null),c(Xe,mn),P(cn,Xe,null),c(Xe,gn),P(ln,Xe,null),c(Xe,fn),c(Xe,pn),c(Xe,kn);for(let t=0;t<On.length;t+=1)On[t].m(Xe,null);d(s,hn,g),d(s,vn,g),yn=!0,bn||(Ln=[k(T,"change",t[59]),k($,"click",t[48]),k(_,"input",t[60]),k(W,"input",t[61]),k(G,"input",t[62]),k(V,"input",t[63]),k(nt,"input",t[64]),k(rt,"input",t[65]),k(gt,"input",t[66]),k(pt,"input",t[67]),k(Ct,"input",t[68]),k(Et,"input",t[69]),k(Wt,"input",t[70]),k(It,"change",t[71]),k(Kt,"change",t[72]),k(Qt,"change",t[73]),k(te,"change",t[74]),k(ie,"input",t[75]),k(de,"input",t[76]),k(fe,"input",t[77]),k(ve,"input",t[78]),k(Ge,"click",t[52]),k(Ue,"click",t[54])],bn=!0)},p(t,e){if(0&e){let n;for(wn=kt,n=0;n<wn.length;n+=1){const a=Lt(t,wn,n);Rn[n]?Rn[n].p(a,e):(Rn[n]=Tt(a),Rn[n].c(),Rn[n].m(T,null))}for(;n<Rn.length;n+=1)Rn[n].d(1);Rn.length=wn.length}if(33554432&e[0]&&L(T,t[25]),1024&e[0]&&v(_.value)!==t[10]&&b(_,t[10]),512&e[0]&&v(W.value)!==t[9]&&b(W,t[9]),256&e[0]&&v(G.value)!==t[8]&&b(G,t[8]),8388608&e[0]&&v(V.value)!==t[23]&&b(V,t[23]),2097152&e[0]&&v(nt.value)!==t[21]&&b(nt,t[21]),4194304&e[0]&&v(rt.value)!==t[22]&&b(rt,t[22]),1048576&e[0]&&v(gt.value)!==t[20]&&b(gt,t[20]),128&e[0]&&v(pt.value)!==t[7]&&b(pt,t[7]),64&e[0]&&v(Ct.value)!==t[6]&&b(Ct,t[6]),32&e[0]&&v(Et.value)!==t[5]&&b(Et,t[5]),16&e[0]&&v(Wt.value)!==t[4]&&b(Wt,t[4]),262144&e[0]&&(It.checked=t[18]),524288&e[0]&&(Kt.checked=t[19]),131072&e[0]&&(Qt.checked=t[17]),65536&e[0]&&(te.checked=t[16]),32768&e[0]&&v(ie.value)!==t[15]&&b(ie,t[15]),16384&e[0]&&v(de.value)!==t[14]&&b(de,t[14]),8192&e[0]&&v(fe.value)!==t[13]&&b(fe,t[13]),16777216&e[0]&&v(ve.value)!==t[24]&&b(ve,t[24]),4096&e[0]){let n;for(Bn=ot,n=0;n<Bn.length;n+=1){const a=bt(t,Bn,n);Cn[n]?Cn[n].p(a,e):(Cn[n]=xt(a),Cn[n].c(),Cn[n].m(R,null))}for(;n<Cn.length;n+=1)Cn[n].d(1);Cn.length=Bn.length}if(7&e[0]|1835008&e[1]){let n;for(Sn=t[1],n=0;n<Sn.length;n+=1){const a=vt(t,Sn,n);_n[n]?_n[n].p(a,e):(_n[n]=wt(a),_n[n].c(),_n[n].m(xe,Fe))}for(;n<_n.length;n+=1)_n[n].d(1);_n.length=Sn.length}(!yn||4&e[0])&&Tn!==(Tn=t[2].summary.cost+"")&&y(je,Tn),(!yn||4&e[0])&&xn!==(xn=t[2].summary.damage.toFixed(0)+"")&&y(ze,xn),(!yn||4&e[0])&&$n!==($n=t[2].summary.cp.toFixed(0)+"")&&y(Ke,$n);const n={};!tn&&2048&e[0]&&(tn=!0,n.method=t[11],D((()=>tn=!1))),Ye.$set(n);const a={};!an&&2048&e[0]&&(an=!0,a.method=t[11],D((()=>an=!1))),nn.$set(a);const s={};!rn&&2048&e[0]&&(rn=!0,s.method=t[11],D((()=>rn=!1))),on.$set(s);const o={};!dn&&2048&e[0]&&(dn=!0,o.method=t[11],D((()=>dn=!1))),cn.$set(o);const i={};if(!un&&2048&e[0]&&(un=!0,i.method=t[11],D((()=>un=!1))),ln.$set(i),8&e[0]|4194304&e[1]){let n;for(zn=t[3],n=0;n<zn.length;n+=1){const a=ht(t,zn,n);On[n]?On[n].p(a,e):(On[n]=Rt(a),On[n].c(),On[n].m(Xe,null))}for(;n<On.length;n+=1)On[n].d(1);On.length=zn.length}},i(t){yn||(I(a.$$.fragment,t),I(Ye.$$.fragment,t),I(nn.$$.fragment,t),I(on.$$.fragment,t),I(cn.$$.fragment,t),I(ln.$$.fragment,t),yn=!0)},o(t){H(a.$$.fragment,t),H(Ye.$$.fragment,t),H(nn.$$.fragment,t),H(on.$$.fragment,t),H(cn.$$.fragment,t),H(ln.$$.fragment,t),yn=!1},d(t){t&&g(e),t&&g(n),K(a,t),t&&g(o),t&&g(i),l(Rn,t),t&&g(w),t&&g(R),l(Cn,t),t&&g(be),t&&g(Le),t&&g(Te),t&&g(xe),l(_n,t),t&&g(Ne),t&&g(Ge),t&&g(Je),t&&g(Ze),t&&g(Qe),t&&g(Ue),t&&g(Ve),t&&g(Xe),K(Ye),K(nn),K(on),K(cn),K(ln),l(On,t),t&&g(hn),t&&g(vn),bn=!1,s(Ln)}}}function Ct(t,e,n){let a,s,o,i,c,d,g,l,u,f,p,k,h,y,b,L,x,$,w,R,B,C,{weapons:S,storeKey:_}=e;for(const t of S)t.atk&&!t.name.startsWith("奧義")&&(t.atk*=1.05);S.unshift({name:"移動",cost:"sword"===X?1:2});const A=Object.fromEntries(S.map((t=>[t.name,t]))),E=st("comm/hp",2736);r(t,E,(t=>n(10,l=t)));const D=st("comm/def",200);r(t,D,(t=>n(9,g=t)));const F=st("comm/mdef",200);r(t,F,(t=>n(8,d=t)));const q=st(`${_}/atk`,700);r(t,q,(t=>n(23,B=t)));const W=st(`${_}/int`,700);r(t,W,(t=>n(22,R=t)));const M=st(`${_}/selfDef`,1e3);r(t,M,(t=>n(21,w=t)));const j=st(`${_}/selfMdef`,500);r(t,j,(t=>n(20,$=t)));const I=st("comm/fireResist",0);r(t,I,(t=>n(7,c=t)));const H=st("comm/waterResist",0);r(t,H,(t=>n(6,i=t)));const z=st("comm/poisonResist",0);r(t,z,(t=>n(5,o=t)));const O=st("comm/lightningResist",0);r(t,O,(t=>n(4,s=t)));const P=st("comm/fire",!1);r(t,P,(t=>n(19,x=t)));const K=st("comm/freeze",!1);r(t,K,(t=>n(18,L=t)));const N=st("comm/poison",!1);r(t,N,(t=>n(17,b=t)));const G=st("comm/lightning",!1);r(t,G,(t=>n(16,y=t)));const J=st(`${_}/poisonTurns`,99);r(t,J,(t=>n(15,h=t)));const Z=st(`${_}/lightningAtk`,145);r(t,Z,(t=>n(14,k=t)));const Q=st(`${_}/stance`,0);r(t,Q,(t=>n(13,p=t)));const U=st(`${_}/finalBonus`,0);r(t,U,(t=>n(24,C=t)));const V=st(`${_}/passiveIds`,[]);r(t,V,(t=>n(12,f=t)));const Y=st(`${_}/compareList`,[]);r(t,Y,(t=>n(58,a=t)));const tt=st(`${_}/sortMethod`,{field:null,dir:1});let et;r(t,tt,(t=>n(11,u=t)));let nt=[S[0]],at={stages:[],summary:{damage:0,cost:0,cp:0}},ot=[],it=[],rt={};function ct(t){nt.splice(t,0,nt[t]),n(1,nt)}function dt(t){nt.length<=1||(nt.splice(t,1),n(1,nt))}function gt(t,e){const a=nt[t];nt.splice(t,1),nt.splice(t+e,0,a),n(1,nt)}function lt(t){a.splice(t,1),Y.set(a)}const ut=[[]];return t.$$set=t=>{"weapons"in t&&n(0,S=t.weapons),"storeKey"in t&&n(55,_=t.storeKey)},t.$$.update=()=>{if(33552368&t.$$.dirty[0]){n(57,rt={hp:l,def:g,mdef:d,atk:B,int:R,selfDef:w,selfMdef:$,fire:x,freeze:L,poison:b,lightning:y,poisonTurns:h,lightningAtk:k,stance:p,passiveIds:f,fireResist:c,waterResist:i,poisonResist:o,lightningResist:s,buff:[{finalBonus:C,times:999}]})}2&t.$$.dirty[0]|67108864&t.$$.dirty[1]&&n(2,at=mt({...rt,weapons:nt})),201326592&t.$$.dirty[1]&&n(56,ot=a.map(((t,e)=>{const n=t.map((t=>A[t])),a=mt({...rt,weapons:n});return{name:t.join("+"),index:e,...a.summary}}))),2056&t.$$.dirty[0]|33554432&t.$$.dirty[1]&&(n(3,it=ot.slice()),u.field&&it.sort(((t,e)=>(t[u.field]<e[u.field]?-1:t[u.field]>e[u.field]?1:0)*u.dir)))},[S,nt,at,it,s,o,i,c,d,g,l,u,f,p,k,h,y,b,L,x,$,w,R,B,C,et,E,D,F,q,W,M,j,I,H,z,O,P,K,N,G,J,Z,Q,U,V,Y,tt,function(){m(E,l=et.hp||0,l),m(D,g=et.def||0,g),m(F,d=et.mdef||0,d),m(I,c=et.fireResist||0,c),m(H,i=et.waterResist||0,i),m(z,o=et.poisonResist||0,o),m(O,s=et.lightningResist||0,s)},ct,dt,gt,function(){a.push(nt.map((t=>t.name))),Y.set(a)},lt,function(){const t=new Set(a.map((t=>t[0])));for(const e of S)t.has(e.name)||a.push([e.name]);Y.set(a)},_,ot,rt,a,function(){et=T(this),n(25,et)},function(){l=v(this.value),E.set(l)},function(){g=v(this.value),D.set(g)},function(){d=v(this.value),F.set(d)},function(){B=v(this.value),q.set(B)},function(){w=v(this.value),M.set(w)},function(){R=v(this.value),W.set(R)},function(){$=v(this.value),j.set($)},function(){c=v(this.value),I.set(c)},function(){i=v(this.value),H.set(i)},function(){o=v(this.value),z.set(o)},function(){s=v(this.value),O.set(s)},function(){L=this.checked,K.set(L)},function(){x=this.checked,P.set(x)},function(){b=this.checked,N.set(b)},function(){y=this.checked,G.set(y)},function(){h=v(this.value),J.set(h)},function(){k=v(this.value),Z.set(k)},function(){p=v(this.value),Q.set(p)},function(){C=v(this.value),U.set(C)},function(){f=function(t,e,n){const a=new Set;for(let e=0;e<t.length;e+=1)t[e].checked&&a.add(t[e].__value);return n||a.delete(e),Array.from(a)}(ut[0],this.__value,this.checked),V.set(f)},ut,function(t,e){t[e]=T(this),n(1,nt),n(0,S)},t=>gt(t,-1),t=>gt(t,1),t=>ct(t),t=>dt(t),function(t){u=t,tt.set(u)},function(t){u=t,tt.set(u)},function(t){u=t,tt.set(u)},function(t){u=t,tt.set(u)},function(t){u=t,tt.set(u)},t=>lt(t.index)]}class St extends J{constructor(t){super(),G(this,t,Ct,Bt,i,{weapons:0,storeKey:55},null,[-1,-1,-1,-1])}}const _t=[{name:"閃耀之書",cost:4,grade:1,atk:230,atkType:"magic",modLv:"E",modType:"str"},{name:"憤怒之書",cost:2,grade:1,buff:[{bonus:15,times:1}]},{name:"大回復之書",cost:7,grade:1,atk:180,atkType:"heal",modLv:"D",modType:"int"},{name:"淨化之書",cost:3,grade:1,atk:30,atkType:"heal",modLv:"F",modType:"int"},{name:"燃燒之書",cost:4,grade:1,atk:150,atkType:"magic",modLv:"F",modType:"str",fire:{atk:220,time:4}},{name:"加速之書",cost:3,grade:1,atk:110,atkType:"heal",modLv:"F",modType:"int"},{name:"快速回復之書",cost:4,grade:2,atk:200,atkType:"heal",modLv:"D",modType:"int"},{name:"觸電之書",cost:3,grade:1,atk:50,atkType:"magic",modLv:"E",modType:"str",lightning:{atk:50,time:6}},{name:"聖光之書",cost:4,grade:2,atk:230,atkType:"magic",modLv:"D",modType:"str",collision:1},{name:"智慧之書",cost:4,grade:2,buff:[{int:200,times:99}]},{name:"高階回復之書",cost:7,grade:2,atk:100,atkType:"heal",modLv:"C",modType:"int"},{name:"自由火蝶",cost:4,grade:4,fire:{atk:720,time:4}},{name:"清淨如水",cost:6,grade:3,atk:155,atkType:"heal",modLv:"F",modType:"int",targets:99},{name:"雷電蜂",cost:4,grade:3,atk:100,atkType:"magic",modLv:"D",modType:"str",lightning:{atk:145,time:10}},{name:"猛炎之書",cost:5,grade:2,atk:330,atkType:"magic",modLv:"E",modType:"str",fire:{atk:480,time:4}},{name:"美味食譜100選",cost:8,grade:3,atk:400,atkType:"heal",modLv:"SS",modType:"int"},{name:"海魔獸歷史",cost:4,grade:3,atk:100,atkType:"heal",modLv:"E",modType:"int"},{name:"冰之凝視",cost:5,grade:3,atk:150,atkType:"heal",modLv:"D",modType:"int"},{name:"大馬達的激情",cost:4,grade:3,atk:250,atkType:"heal",modLv:"E",modType:"int",buff:[{atk:250,times:99,int:-700}]},{name:"火焰之加護",cost:4,grade:4,atk:20,atkType:"heal",modLv:"D",modType:"int"},{name:"聖樹祭慶祝指南",cost:5,grade:3,atk:50,atkType:"heal",modLv:"C",modType:"int",buff:[{def:250,times:99}]},{name:"夏洛蒂自傳",cost:5,grade:3,atk:350,atkType:"magic",modLv:"C",modType:"str"},{name:"摺疊式音箱",cost:4,grade:4,atk:80,atkType:"heal",modLv:"E",modType:"int"},{name:"摺疊式音箱．第二樂章",cost:4,grade:4,atk:80,atkType:"heal",modLv:"E",modType:"int"},{name:"摺疊式音箱．最終樂章",cost:3,grade:4,atk:80,atkType:"heal",modLv:"D",modType:"int",targets:99},{name:"船帆操作指南",cost:4,grade:3,atk:100,atkType:"heal",modLv:"E",modType:"int"},{name:"神怒之書",cost:4,grade:3,buff:[{bonus:35,times:1}]},{name:"航海指南",cost:4,atk:220,atkType:"heal",modLv:"C",modType:"int"},{name:"刨冰食用指南",cost:4,grade:4,water:{modLv:"C",modType:"int",time:2}},{name:"深紅的日記",cost:5,grade:3,atk:250,atkType:"magic",modLv:"E",modType:"str",fire:{modLv:1.31,modType:"int",time:5}},{name:"凶獸撕咬",cost:2,grade:3,atk:240,atkType:"lightning",modLv:"G",modType:"str"},{name:"眾神之怒",cost:3,grade:4,buff:[{bonus:30,times:1}]},{name:"生命滿溢",cost:3,grade:4,atk:300,atkType:"heal",modLv:"C",modType:"int"},{name:"聖火護盾",cost:7,grade:4,atk:82,atkType:"heal",modLv:"B",modType:"int"},{name:"結晶智慧",cost:4,grade:2,buff:[{int:400,times:99}]},{name:"腥紅海鯊後援團守則",cost:7,grade:4,atk:280,atkType:"heal",modLv:"C",modType:"int",targets:99},{name:"奧義（辛西婭）",cost:6,grade:4,atk:110,atkType:"magic",modLv:"S",modType:"str",targets:99},{name:"奧義（辛西婭）（地型）",cost:0,grade:4,atk:975,atkType:"magic",targets:99,hit:10},{name:"專武（辛西婭）",cost:5,grade:4,atk:280,atkType:"magic",modLv:"A",modType:"str",targets:99,bonus:30,collision:1},{name:"專武（兔子莎蓮娜）",cost:2,grade:4,atk:30,atkType:"heal",modLv:"E",modType:"int",targets:1,bonus:30},{name:"專武（刃之）",cost:5,atk:350,atkType:"heal",modLv:"C",modType:"int",targets:1,buff:[{injuryBonus:-20,times:99}]},{name:"專武（珍）",cost:3,buff:[{bonus:30,times:1}]}];var At=[{name:"訓練用陷阱弓",cost:5,grade:1,trap:{atk:1300}},{name:"誘毒弓",cost:3,grade:2,atk:80,modLv:"F",poison:{bonus:20}},{name:"大弓",cost:6,grade:1,atk:290,modLv:"D"},{name:"炸彈弓",cost:4,grade:2,atk:100,modLv:"E",collision:1},{name:"遊擊短弓",cost:3,grade:2,atk:150,modLv:"C",collision:1},{name:"彈射陷阱弓",cost:5,grade:2,trap:{atk:2250},collision:1},{name:"連射弓",cost:5,grade:2,atk:127,modLv:"F",hit:3},{name:"反向彈射陷阱弓",cost:4,grade:2,trap:{atk:1850},collision:1},{name:"楓木弓",cost:2,grade:2,atk:150,modLv:"D"},{name:"蛇毒弓",cost:3,grade:2,atk:260,modLv:"E",poison:{atk:640,turn:2}},{name:"樹藤弓",cost:3,grade:2,atk:250,modLv:"E",collision:1},{name:"劇毒骸蝶",cost:4,grade:4,atk:350,modLv:"C",poison:{atk:1340,turn:4}},{name:"狼牙弓",cost:3,grade:4,atk:80,modLv:"B",collision:1},{name:"騷靈之弓",cost:4,grade:3,atk:40,modLv:"F"},{name:"重型炸彈弓",cost:5,grade:3,atk:80,modLv:"D",targetBuff:[{id:"heavyBomb",def:-100,times:99}],collision:1},{name:"元素獵者",cost:3,grade:3,atk:73,modLv:"D",targetBuff:[{elementResist:-10,times:99}]},{name:"驚嚇小精靈",cost:5,grade:3,atk:50,modLv:"C"},{name:"開蛋器",cost:3,grade:3,atk:220,modLv:"D"},{name:"碧海旋螺弓",cost:3,grade:3,atk:370,modLv:"D"},{name:"魚叉射手",cost:3,grade:3,atk:520,modLv:"D",collision:1},{name:"引蜂毒素",cost:4,grade:3,atk:130,modLv:"F",poison:{bonus:35}},{name:"眼鏡蛇弓",cost:3,grade:3,atk:210,modLv:"D",poison:{atk:870,turn:3}},{name:"白夜禮物派送器",cost:5,grade:3,trap:{water:{atk:2100,time:6}}},{name:"射不準的玩具弓",cost:2,grade:3,targets:2,atk:120,modLv:"E"},{name:"射不準的玩具弓（兩倍）",cost:2,grade:3,atk:120,modLv:"E",hit:2},{name:"深沉之音",cost:4,grade:4,trap:{atk:1300,modLv:"A",modType:"int"}},{name:"深沉之音．第二樂章",cost:4,grade:4,trap:{atk:1350,modLv:"S",modType:"int"}},{name:"深沉之音．最終樂章",cost:2,grade:4,trap:{atk:1400,modLv:"SS",modType:"int"}},{name:"街角獵手",cost:5,grade:3,trap:{atk:1870,modLv:"SSS",modType:"int"},targetBuff:[{id:"streetHunter",def:-350,times:999}]},{name:"徹甲旋殼弓",cost:2,grade:3,atk:440,modLv:"G",targetBuff:[{id:"spiralShell",def:-100,times:999}]},{name:"彈射陷阱弓MK2",cost:5,grade:3,trap:{atk:1600,modLv:"S",modType:"int"},collision:1},{name:"精靈之森",cost:3,grade:3,atk:165,modLv:"C",targetBuff:[{id:"elfForest",def:-100,times:99}]},{name:"熱帶魚槍",cost:3,grade:4,atk:220,modLv:"D",targetBuff:[{id:"tropicalFish",def:-150,times:99}]},{name:"鐵輪鋼力弓",cost:4,grade:3,atk:250,modLv:"E"},{name:"幽暗的長弓",cost:4,grade:3,atk:500,modLv:"E",poison:{modLv:1.3,modType:"int",turn:3}},{name:"隼之狩",cost:3,grade:4,atk:400,modLv:"A"},{name:"魔像結晶弓",cost:4,grade:4,atk:120,modLv:"D"},{name:"魔像結晶弓（擊殺）",cost:1,grade:4,atk:120,modLv:"D"},{name:"實驗炸彈彈射器",cost:6,grade:4,atk:100,modLv:"D",collision:1},{name:"天之鎖鍊",cost:4,grade:4,atk:350,modLv:"C",collision:1},{name:"阿波羅",cost:6,grade:4,atk:150,modLv:"A"},{name:"超性能瞄準儀",cost:3,grade:4,atk:300,modLv:"C"},{name:"超性能瞄準儀（毒、電）",cost:3,grade:4,atk:300,modLv:"C",bonus:30},{name:"反向彈射陷阱弓MK2",cost:4,grade:3,trap:{atk:1200,modLv:"S",modType:"int"},collision:1},{name:"狂暴追獵",cost:4,grade:4,atk:100,modLv:"F",hit:3},{name:"哨兵獵弓",cost:5,grade:3,atk:205,modLv:"D",trap:{atk:2e3,time:20}},{name:"狂鯊獵弓",cost:4,grade:4,atk:190,modLv:"C",targets:99},{name:"專武（艾娜）",cost:3,grade:3,atk:210,atkType:"fire",modLv:"D"},{name:"專武（艾莉諾拉）",cost:3,grade:3,atk:82,modLv:"F",lightning:{atk:70,time:10},afterWeapon:(t,e)=>{const{damage:n}=t;t.processWeapon({...e,lightning:null,afterWeapon:null}),t.damage+=n}},{name:"專武（格蕾絲）",cost:5,grade:3,atk:231,modLv:"D",poison:{atk:1e3,turn:2,bonus:30}},{name:"專武（聖誕赫利德）",cost:3,grade:3,atk:200,modLv:"D",poison:{atk:600,turn:2},fire:{atk:100,time:6}},{name:"專武（亞歷克斯）",cost:3,grade:3,atk:450,modLv:1.45,collision:1},{name:"奧義（格蕾絲）",cost:7,atk:285,modLv:"B0",poison:{atk:1440,turn:3,extend:2}},{name:"奧義（艾莉諾拉）",cost:6,atk:240,modLv:"E0",hit:6},{name:"奧義（菲恩）",cost:2,atk:330,modLv:"C0",hit:2,targetBuff:[{def:-150,times:99}]},{name:"奧義（薇薇安）",cost:4,trap:{atk:100,modLv:"C0",hit:4,bonus:20,time:15}},{name:"奧義（艾娜）",cost:5,atk:579,modLv:"A0",fire:{atk:1080,time:6}},{name:"奧義（聖誕赫利德）",cost:8,atk:150,modLv:"B0",hit:4,trap:{atk:1400,time:999}}];const Et=[{name:"初等火焰法杖",cost:7,casting:3,grade:1,atk:210,modLv:"E0",fire:{atk:150,time:6},range:"middle"},{name:"木製法杖",cost:5,grade:1,atk:100,modLv:"B",range:"middle"},{name:"初等暴風法杖",cost:7,casting:4,grade:1,atk:286,modLv:"F",range:"large"},{name:"初等閃電法杖",cost:6,casting:5,grade:1,atk:480,modLv:"A",range:"small"},{name:"初等冰霜法杖",cost:7,casting:6,grade:1,atk:214,modLv:"D",water:{atk:450,time:5},range:"middle"},{name:"驅散法杖",cost:6,grade:1,atk:280,modLv:"B",range:"small"},{name:"火焰法杖",cost:5,casting:4,grade:2,atk:178,modLv:"C",fire:{atk:400,time:5},range:"middle"},{name:"力量強化杖",cost:3,casting:3,grade:2,buff:[{atk:200,times:99}],range:"nearSmall"},{name:"初級魔法凝聚",cost:3,grade:2,buff:[{bonus:10,times:1}],range:"single"},{name:"暴風法杖",cost:8,casting:4,grade:3,atk:200,modLv:"D",range:"large",collision:1},{name:"冰霜法杖",cost:7,casting:6,grade:2,atk:221,modLv:"B",water:{atk:760,time:5},range:"middle"},{name:"橡木法杖",cost:4,grade:2,atk:392,modLv:"D",range:"middle"},{name:"閃電法杖",cost:7,casting:5,grade:2,atk:860,modLv:"S",lightning:{atk:150,time:6},range:"small"},{name:"超級力量強化杖",cost:4,casting:4,grade:3,buff:[{atk:350,times:99}],range:"nearSmall"},{name:"小雞閃光杖",cost:3,casting:1,grade:2,atk:100,modLv:"F",range:"small"},{name:"骸蝶魅影",cost:12,casting:10,grade:4,atk:1340,modLv:"SSS",range:"middle"},{name:"暗影杖",cost:9,casting:7,grade:2,atk:450,modLv:"S",targetBuff:[{mdef:-150,times:99}],range:"middle"},{name:"灼熱日冕",cost:6,casting:5,grade:3,atk:293,modLv:"A",fire:{atk:700,time:5},range:"middle"},{name:"中級魔法凝聚",cost:4,grade:3,buff:[{bonus:15,times:1,id:"midMagicCondense"}],range:"single"},{name:"彩蛋權杖",cost:5,grade:3,atk:102,modLv:"B",range:"middle"},{name:"星光蟹王杖",cost:1,grade:3,buff:[{selfMdef:400,times:999,id:"starlight"}]},{name:"老大的象徵",cost:4,grade:3,atk:790,modLv:"E",range:"nearSmall"},{name:"碧空颶風",cost:8,casting:4,grade:4,atk:120,modLv:"C",range:"large",collision:1},{name:"閃光法杖",cost:4,casting:2,grade:3,atk:150,modLv:"C",range:"small"},{name:"冰雕魔杖",cost:5,casting:4,grade:3,atk:65,modLv:"C",water:{atk:730,time:3},range:"middle"},{name:"爆烈敲擊",cost:8,casting:5,grade:4,range:"middle",atk:400,modLv:"D"},{name:"爆烈敲擊．第二樂章",cost:7,casting:4,grade:4,range:"nearLarge",atk:200,modLv:"B"},{name:"爆烈敲擊．最終樂章",cost:6,casting:3,grade:4,range:"large",atk:0,modLv:"SSS"},{name:"風暴之怒",cost:10,casting:10,atk:1880,modLv:"A",range:"middle"},{name:"風暴之怒（追擊）",cost:5,casting:5,atk:2435,modLv:2.85,range:"middle"},{name:"野性吉米杖",cost:4,casting:4,grade:3,atk:480,atkType:"heal",modLv:"F",range:"middle"},{name:"高級魔法凝聚",cost:5,grade:4,buff:[{bonus:25,times:1}],range:"single"},{name:"絕對零度",cost:8,casting:7,grade:4,atk:226,modLv:"S",water:{atk:1500,time:6},range:"middle"},{name:"破邪法杖",cost:6,grade:3,atk:250,modLv:"A",range:"single"},{name:"草莓刨冰",cost:2,grade:4,atk:200,modLv:"F",targetBuff:[{waterInjuryBonus:15,times:999}],range:"single"},{name:"高效魔力轉換裝置",cost:8,casting:7,grade:3,atk:1650,modLv:"SS",range:"nearSmall"},{name:"純白之權杖",cost:7,casting:5,grade:3,atk:300,modLv:"C",bonus:80,range:"small"},{name:"邪龍煉獄黑王杖",cost:7,casting:6,atk:200,modLv:"S",fire:{modLv:1.6,modType:"int",time:6},range:"middle"},{name:"凍凍吉米杖",cost:7,casting:6,atk:0,modLv:"S",water:{modLv:"D0",modType:"int",time:5},range:"middle"},{name:"流水法杖",cost:6,casting:4,grade:3,atk:0,atkType:"water",modLv:"B",modType:"int",range:"small"},{name:"高壓閃電",cost:8,casting:5,grade:4,atk:1250,modLv:"SS",lightning:{atk:250,time:10},range:"small"},{name:"衛兵法杖",cost:10,casting:7,grade:4,atk:742,modLv:"A",range:"middle"},{name:"群鯊使者",cost:7,casting:4,grade:4,atk:160,modLv:"D",range:"small",water:{atk:160,modLv:"D",modType:"int",time:0}},{name:"尤里走路",cost:2,grade:1,atk:900,range:"middle"},{name:"奧義（莉伊）",cost:10,casting:10,atk:952,modLv:"S0",range:"large"},{name:"奧義（奧蘿菈）",cost:7,casting:7,atk:500,modLv:"SS",range:"middle",water:{atk:4e3,time:6}},{name:"奧義（奧蘿菈）（冰）",cost:7,casting:7,atk:500,modLv:"SS",atkType:"water",range:"middle",water:{atk:4e3,time:6}},{name:"奧義（歌莉雅）",cost:6,casting:6,atk:1045,modLv:"A0",fire:{atk:1250,time:5},range:"large"},{name:"奧義（歌莉雅）（地型）",cost:6,casting:6,atk:1045,modLv:"A0",fire:{atk:3050,time:20}},{name:"奧義（新年莉伊）（煙花彈）",cost:10,casting:1,atk:600,modLv:"Ex0",range:"large",bonus:300},{name:"奧義（新年莉伊）",cost:10,casting:10,atk:600,modLv:"Ex0",range:"large"},{name:"奧義（西比拉）",cost:6,casting:6,atk:1450,modLv:"SS0",range:"middle"},{name:"專武（歌莉雅）",cost:5,atk:399,modLv:"D",range:"middle",fire:{atk:750,time:5}},{name:"專武（奧蘿菈）",cost:7,casting:7,atk:100,modLv:"B",range:"large",water:{atk:2800,time:7}},{name:"專武（聖誕梅米）",cost:8,casting:6,atk:300,modLv:"S",range:"large"},{name:"專武（新年莉伊）",cost:6,casting:6,atk:166,modLv:"SS",range:"large",bonus:30},{name:"專武（西比拉）",cost:7,casting:7,atk:1e3,modLv:"SSS",range:"large"}];Et.forEach((t=>{t.modType=t.modType||"int",t.atkType=t.atkType||"magic"}));const Dt=[..._t,...t,...At,...Et],Ft=Dt.filter((t=>t.buff&&!t.modLv&&!t.atk)),qt=Dt.filter((t=>t.lightning?.time));return{a:Et,b:_t,i:function(t,e){return new St({target:document.body,props:{weapons:[...new Set([...t,...Ft])],lightningWeapons:qt,storeKey:e}})},s:t,w:At}}();
//# sourceMappingURL=init-9daf2f2a.js.map
